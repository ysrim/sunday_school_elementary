<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì´ˆë“±ë¶€ RPG ê´€ë¦¬ì - ìŠ¤íƒ ë‹¤ë“œ ì—ë””ì…˜</title>
  
  <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script>
  
  <style>
    /* ëˆˆì´ í¸ì•ˆí•œ ë¶€ë“œëŸ¬ìš´ íšŒìƒ‰ ë°°ê²½ */
    body {
      background-color: #f4f7f6; 
      color: #333333; 
      padding: 30px; 
      font-family: 'Pretendard', 'Malgun Gothic', 'Segoe UI', sans-serif;
    }

    /* ê¹”ë”í•˜ê³  ì‹ ë¢°ê° ìˆëŠ” ì œëª© ìŠ¤íƒ€ì¼ */
    h2 {
      color: #2c3e50;
      border-bottom: 2px solid #e0e6ed;
      padding-bottom: 10px;
      margin-bottom: 10px;
    }

    .subtitle {
      color: #7f8c8d;
      font-size: 0.95em;
      margin-bottom: 25px;
    }

    /* ê·¸ë¦¬ë“œ ì™¸ë¶€ ì»¨í…Œì´ë„ˆ: ê·¸ë¦¼ìë¥¼ ì£¼ì–´ ì¢…ì´ê°€ ë–  ìˆëŠ” ë“¯í•œ ê¹”ë”í•œ ëŠë‚Œ */
    #myGrid {
      width: 100%;
      height: 550px;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
      overflow: hidden;
    }

    /* â˜… AG Grid ëª¨ë˜ ë¼ì´íŠ¸ ì»¤ìŠ¤í…€ â˜… */
    .ag-theme-quartz {
      /* í—¤ë”ë¥¼ ì•„ì£¼ ì˜…ì€ íŒŒë€ë¹›/íšŒìƒ‰ìœ¼ë¡œ ì²˜ë¦¬í•˜ì—¬ ë°ì´í„°ì™€ êµ¬ë¶„ */
      --ag-header-background-color: #f8fafc;
      --ag-header-foreground-color: #475569;
      
      /* í…Œë‘ë¦¬ë¥¼ ì•„ì£¼ ì—°í•˜ê²Œ ì²˜ë¦¬í•˜ì—¬ ë‹µë‹µí•¨ í•´ì†Œ */
      --ag-border-color: #e2e8f0;
      --ag-row-border-color: #f1f5f9;
      
      /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ì•„ì£¼ ì˜…ì€ í•˜ëŠ˜ìƒ‰ ë°°ê²½ */
      --ag-row-hover-color: #f0f9ff;
      
      /* í°íŠ¸ í¬ê¸°ì™€ ì¤„ê°„ê²©ì„ ì—¬ìœ ë¡­ê²Œ */
      --ag-font-size: 14px;
      --ag-header-column-separator-display: block;
      --ag-header-column-separator-color: #e2e8f0;
    }
  </style>
</head>
<body>

  <h2>ğŸ“‹ ì´ˆë“±ë¶€ RPG í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ</h2>
  <div class="subtitle">í•™ìƒë“¤ì˜ ë ˆë²¨ê³¼ ì²´ë ¥ ë³€ë™ í˜„í™©ì„ ì•ˆì •ì ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.</div>

  <div id="myGrid" class="ag-theme-quartz"></div>

  <script>
    // 1. ë³€ë™ê°’ ë Œë”ëŸ¬ (ê¸€ë¡œìš° íš¨ê³¼ë¥¼ ë¹¼ê³  ì •ê°ˆí•˜ê²Œ ë³€ê²½)
    function statRenderer(params) {
      const value = params.value;
      const changeField = params.colDef.field + 'Change'; 
      const changeValue = params.data[changeField];

      if (!changeValue) return value;

      // ëˆˆì— ì˜ ë„ëŠ” í‘œì¤€ì ì¸ ê¸ì •(ì´ˆë¡)/ë¶€ì •(ë¹¨ê°•) ìƒ‰ìƒ ì‚¬ìš©
      let color = changeValue > 0 ? '#10b981' : '#ef4444'; 
      let sign = changeValue > 0 ? 'â–²' : 'â–¼';
      let displayChange = Math.abs(changeValue);

      // ê·¸ë¦¼ì íš¨ê³¼ë¥¼ ë¹¼ê³  í…ìŠ¤íŠ¸ êµµê¸°ì™€ ìƒ‰ìƒë§Œìœ¼ë¡œ ê¹”ë”í•˜ê²Œ í‘œí˜„
      return `
        <span style="font-weight: 600; color: #334155;">${value}</span>
        <span style="color: ${color}; font-size: 0.85em; margin-left: 6px; font-weight: bold;">
          ${sign} ${displayChange}
        </span>
      `;
    }

    // 2. ì»¬ëŸ¼ ì •ì˜
    const columnDefs = [
      { headerName: "í•™ìƒ ID", field: "id", width: 90 },
      { headerName: "ìºë¦­í„°ëª…", field: "name", filter: true },
      { headerName: "í´ë˜ìŠ¤", field: "job", filter: true },
      { headerName: "í˜„ì¬ ë ˆë²¨", field: "level", cellRenderer: statRenderer },
      { headerName: "ì”ì—¬ ì²´ë ¥", field: "hp", cellRenderer: statRenderer }
    ];

    // 3. ìƒ˜í”Œ ë°ì´í„° ìƒì„±
    const jobs = ["ì „ì‚¬", "ë§ˆë²•ì‚¬", "ê¶ìˆ˜", "ë„ì ", "ì„±ê¸°ì‚¬"];
    const rowData = [];
    for (let i = 1; i <= 25; i++) {
      rowData.push({
        id: "STU-" + String(i).padStart(3, '0'), 
        name: `í•™ìƒ${i}`,
        job: jobs[Math.floor(Math.random() * jobs.length)],
        level: Math.floor(Math.random() * 20) + 10,
        levelChange: Math.floor(Math.random() * 5) - 2,
        hp: Math.floor(Math.random() * 200) + 100,
        hpChange: Math.floor(Math.random() * 60) - 30
      });
    }

    // 4. ê·¸ë¦¬ë“œ ì˜µì…˜
    const gridOptions = {
      columnDefs: columnDefs,
      rowData: rowData,
      defaultColDef: {
        flex: 1,
        minWidth: 100,
        resizable: true
      },
      pagination: true,
      paginationPageSize: 10,
      paginationPageSizeSelector: [10, 20, 50],
    };

    // 5. ê·¸ë¦¬ë“œ ë Œë”ë§
    document.addEventListener('DOMContentLoaded', () => {
      const gridDiv = document.querySelector('#myGrid');
      agGrid.createGrid(gridDiv, gridOptions);
    });
  </script>

</body>
</html>