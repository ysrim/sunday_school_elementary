<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>ë´‰ë™ì¤‘ì•™êµíšŒ ì´ˆë“±ë¶€ RPG</title>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
	<style>
        /* =========================================
           1. ê¸°ë³¸ ì„¤ì • (Reset & Variables)
           ========================================= */
        :root {
            --primary: #FFD700; /* í¬ì¸íŠ¸ (ê³¨ë“œ) */
            --secondary: #4A90E2; /* ë©”ì¸ (ë¸”ë£¨) */
            --bg: #E3F2FD; /* ë°°ê²½ */
            --text: #333; /* í…ìŠ¤íŠ¸ */
            --text-sub: #666; /* ë³´ì¡° í…ìŠ¤íŠ¸ */
            --text-light: #999; /* ì—°í•œ í…ìŠ¤íŠ¸ */
            --white: #ffffff;
            --border: #f0f0f0;
            --danger: #FF5252;
            --success: #4CAF50;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg);
            background-image: url('https://www.transparenttextures.com/patterns/clouds.png');
            color: var(--text);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .app-container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: #ffffff;
            position: relative;
            padding-bottom: 80px;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
        }

        /* í˜ì´ì§€ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜ */
        .page {
            display: none;
            padding-bottom: 20px;
            animation: fadeIn 0.3s ease;
            width: 100%;
        }

        .page.active {
            display: block;
        }

        /* =========================================
           2. ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ (Utilities) - ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ëŒ€ì²´ìš©
           ========================================= */
        .flex-row {
            display: flex;
            align-items: center;
        }

        .flex-col {
            display: flex;
            flex-direction: column;
        }

        .flex-center {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .flex-between {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .gap-5 {
            gap: 5px;
        }

        .gap-10 {
            gap: 10px;
        }

        .gap-15 {
            gap: 15px;
        }

        .mt-5 {
            margin-top: 5px;
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mt-15 {
            margin-top: 15px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mt-30 {
            margin-top: 30px;
        }

        .mb-5 {
            margin-bottom: 5px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .mb-15 {
            margin-bottom: 15px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .mb-25 {
            margin-bottom: 25px;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .text-bold {
            font-weight: bold;
        }

        .text-sub {
            font-size: 0.85rem;
            color: var(--text-sub);
        }

        .text-light {
            font-size: 0.75rem;
            color: var(--text-light);
        }

        .text-blue {
            color: var(--secondary);
        }

        .text-red {
            color: var(--danger);
        }

        .w-100 {
            width: 100%;
        }

        .h-20 {
            height: 20px;
        }

        /* Spacer */

        /* =========================================
           3. ê³µí†µ ì»´í¬ë„ŒíŠ¸ (Components)
           ========================================= */
        .card {
            margin: 15px 20px;
            width: calc(100% - 40px);
            background: var(--white);
            border-radius: 25px;
            padding: 20px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.05);
            border: none;
            transition: transform 0.2s;
        }

        .section-title {
            margin: 25px 20px 10px 25px;
            font-size: 1rem;
            font-weight: 800;
            color: #444;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .btn {
            width: 100%;
            padding: 15px;
            border-radius: 50px;
            border: none;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.2s;
            margin-top: 10px;
        }

        .btn-main {
            background: var(--primary);
            color: #444;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.3);
        }

        .btn-sub {
            background: var(--secondary);
            color: white;
        }

        .icon-btn {
            width: 36px;
            height: 36px;
            border: none;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
        }

        .icon-btn:active {
            transform: scale(0.9);
            background: rgba(255, 255, 255, 0.8);
        }

        .icon-btn img {
            width: 20px;
            height: 20px;
            filter: brightness(0) invert(1);
        }

        input[type="text"], input[type="password"] {
            width: 100%;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 10px;
            font-size: 0.9rem;
        }

        /* =========================================
           4. í—¤ë” (Header)
           ========================================= */
        header {
            padding: 20px 20px 35px 20px;
            background: linear-gradient(135deg, #1565C0 0%, #42A5F5 100%);
            border-radius: 0 0 30px 30px;
            position: relative;
            box-shadow: 0 10px 25px rgba(21, 101, 192, 0.25);
            z-index: 100;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("https://www.transparenttextures.com/patterns/stardust.png");
            opacity: 0.15;
            pointer-events: none;
            border-radius: 0 0 30px 30px;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .header-branding h1 {
            font-size: 1.1rem;
            color: #fff;
            font-weight: 800;
            margin: 0;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .app-subtitle {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.85);
            font-weight: 500;
        }

        .header-btn {
            width: 38px !important;
            height: 38px !important;
            border-radius: 50% !important;
            background: rgba(255, 255, 255, 0.15) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
            backdrop-filter: blur(5px);
            padding: 0;
        }

        .header-btn:active {
            transform: scale(0.92);
            background: rgba(255, 255, 255, 0.3) !important;
        }

        .header-btn img {
            opacity: 1;
        }

        /* ì„œë¸Œ í—¤ë” */
        .sub-header {
            padding: 15px 15px;
            background: linear-gradient(135deg, #1565C0 0%, #42A5F5 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 15px rgba(21, 101, 192, 0.2);
            color: white;
            width: 100%;
        }

        .sub-header h2 {
            font-size: 1.1rem;
            font-weight: 700;
            margin: 0;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .btn-back-game {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: background 0.2s;
            display: flex;
        }

        .btn-back-game:active {
            background: rgba(255, 255, 255, 0.2);
        }

        .btn-back-game img {
            width: 22px;
            height: 22px;
            filter: brightness(0) invert(1);
        }

        .sub-info-badge {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
        }

        .sub-info-badge.money {
            color: #FFD54F;
            font-weight: 800;
            background: rgba(0, 0, 0, 0.2);
            padding: 4px 10px;
            border-radius: 12px;
        }

        /* =========================================
           5. ë©”ì¸ í˜ì´ì§€ ìš”ì†Œ
           ========================================= */
        .profile-card {
            position: relative;
            z-index: 110;
            margin: -20px 20px 20px 20px;
            padding: 20px;
            background: #ffffff;
            border-radius: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
        }

        .profile-avatar-wrap {
            width: 75px;
            height: 75px;
            border-radius: 22px;
            border: 4px solid #FFF9E6;
            background: #fff;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }

        .user-rank-badge {
            display: inline-block;
            font-size: 0.7rem;
            padding: 3px 10px;
            border-radius: 8px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .exp-container {
            background: #F0F2F5;
            height: 10px;
            border-radius: 10px;
            margin-top: 8px;
            overflow: hidden;
        }

        .exp-bar-fill {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #4A90E2, #64B5F6);
            border-radius: 10px;
            transition: width 1.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .btn-amen {
            width: 100%;
            padding: 12px;
            border: 2px solid #E3F2FD;
            background: #F1F8FF;
            color: var(--secondary);
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        .btn-amen:active {
            background: var(--secondary);
            color: white;
        }

        .btn-amen.disabled {
            background: #eee;
            color: #aaa;
            border-color: #eee;
            cursor: default;
        }

        .notice-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
        }

        .notice-item:last-child {
            border-bottom: none;
        }

        .notice-tag {
            font-size: 0.65rem;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 5px;
        }

        /* =========================================
           6. í€˜ìŠ¤íŠ¸ & ê¸¸ë“œ
           ========================================= */
        /* í€˜ìŠ¤íŠ¸ */
        .quest-card {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            padding: 0 20px !important;
            margin: 10px 0 !important;
        }

        .q-item {
            background: #ffffff;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.03);
            border: 1px solid var(--border);
            min-height: 100px;
            transition: transform 0.2s;
        }

        .q-item:active {
            transform: scale(0.98);
        }

        .q-icon-box {
            width: 50px;
            height: 50px;
            background: #F1F8FF;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.6rem;
            flex-shrink: 0;
            box-shadow: 0 2px 5px rgba(74, 144, 226, 0.1);
        }

        .q-icon-box.sunday {
            background: #FFF8E1;
            box-shadow: 0 2px 5px rgba(255, 143, 0, 0.1);
        }

        .q-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            gap: 4px;
            min-width: 0;
        }

        .q-title {
            font-size: 1rem;
            font-weight: 700;
            color: #333;
            line-height: 1.3;
            word-break: keep-all;
        }

        .q-desc {
            font-size: 0.8rem;
            color: #999;
        }

        .q-reward-tag {
            display: inline-block;
            width: fit-content;
            font-size: 0.75rem;
            padding: 3px 8px;
            background: #f5f5f5;
            border-radius: 6px;
            color: #555;
            font-weight: bold;
            margin-top: 5px;
        }

        .q-reward-tag.sunday {
            color: #FF8F00;
            background: #FFF3E0;
        }

        /* í€˜ìŠ¤íŠ¸ ìƒíƒœ */
        .q-item.done {
            background: #f9f9f9;
            box-shadow: none;
            opacity: 0.8;
        }

        .q-item.done .q-title {
            text-decoration: line-through;
            color: #bbb;
        }

        .q-item.done .q-icon-box {
            filter: grayscale(100%);
            opacity: 0.5;
        }

        .btn-quest-action {
            width: 75px;
            padding: 10px 0;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 800;
            cursor: pointer;
            text-align: center;
            border: none;
            flex-shrink: 0;
        }

        .state-ready {
            background: #fff;
            border: 1px solid var(--secondary);
            color: var(--secondary);
        }

        .state-wait {
            background: #FF9800;
            border: 1px solid #FF9800;
            color: white;
            animation: pulse-orange 2s infinite;
        }

        .state-done {
            background: #e0e0e0;
            border: 1px solid #e0e0e0;
            color: #999;
            cursor: default;
        }

        /* ê¸¸ë“œ ë°°ë„ˆ & ë°°ì§€ (ìµœì í™”ë¨) */
        .guild-banner-card {
            margin: 20px;
            padding: 25px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            border-radius: 25px;
            color: white;
            text-align: center;
            position: relative;
            box-shadow: 0 10px 20px rgba(30, 60, 114, 0.3);
            overflow: hidden;
        }

        .guild-badge-wrapper {
            position: relative;
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: transparent;
            overflow: visible;
        }

        .guild-badge-icon {
            width: 100%;
            height: 100%;
            border-radius: 22px;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .guild-badge-icon img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .guild-lvl-badge {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: #4e342e;
            font-size: 0.75rem;
            font-weight: 900;
            padding: 4px 12px;
            border-radius: 20px;
            border: 2px solid #ffffff;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
            white-space: nowrap;
            z-index: 10;
        }

        /* ê¸¸ë“œ ë©¤ë²„ ë¦¬ìŠ¤íŠ¸ */
        .member-item {
            display: flex;
            align-items: center;
            padding: 10px;
            background: #F8FAFC;
            border-radius: 15px;
            margin-bottom: 10px;
        }

        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            margin-right: 12px;
            background: #eee;
        }

        .master-badge {
            font-size: 0.65rem;
            color: #FFB800;
            border: 1px solid #FFB800;
            padding: 1px 5px;
            border-radius: 4px;
            margin-left: 5px;
        }

        /* =========================================
           7. í¬ì¸íŠ¸ ë‚´ì—­ ë° ì„¤ì •
           ========================================= */
        .point-summary-card {
            margin: 20px;
            padding: 25px;
            background: linear-gradient(135deg, #64B5F6 0%, #1976D2 100%);
            border-radius: 25px;
            color: white;
            box-shadow: 0 10px 25px rgba(25, 118, 210, 0.3);
            position: relative;
            overflow: hidden;
        }

        .total-point {
            font-size: 3rem;
            font-weight: 800;
            margin: 15px 0 25px 0;
            text-align: center;
            letter-spacing: -1px;
        }

        .point-card-bottom {
            display: flex;
            justify-content: space-around;
            align-items: center;
            background: rgba(0, 0, 0, 0.08);
            border-radius: 15px;
            padding: 12px;
            backdrop-filter: blur(5px);
        }

        .history-filter-tabs {
            display: flex;
            gap: 10px;
            margin: 20px 20px 10px 20px;
        }

        .filter-tab {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 12px;
            background: #f1f3f5;
            color: #888;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        .filter-tab.active {
            background: var(--secondary);
            color: white;
            box-shadow: 0 4px 10px rgba(74, 144, 226, 0.3);
        }

        .menu-list {
            padding: 0 15px;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin: 15px 20px;
        }

        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
        }

        .menu-item:last-child {
            border-bottom: none;
        }

        .history-date-header {
            background: #f8f9fa;
            padding: 5px 10px;
            border-radius: 8px;
            display: inline-block;
            margin: 15px 5px 5px 5px;
            font-weight: bold;
            font-size: 0.75rem;
            color: #888;
        }

        /* ë”ë³´ê¸° ë²„íŠ¼ */
        .btn-load-more {
            display: block;
            width: 150px;
            margin: 20px auto 40px;
            padding: 10px 20px;
            background: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 50px;
            color: #666;
            font-size: 0.85rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .btn-load-more:active {
            transform: scale(0.95);
            background: #e9ecef;
        }

        /* =========================================
           8. í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
           ========================================= */
        .nav-bar {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 480px;
            background: #ffffff;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 8px 0 calc(env(safe-area-inset-bottom) + 8px);
            border-top: 1px solid #eeeeee;
            z-index: 1000;
        }

        .nav-item {
            border: none;
            background: none;
            color: #111;
            font-size: 0.7rem;
            cursor: pointer;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .nav-item img {
            width: 26px;
            height: 26px;
            opacity: 0.8;
            transition: transform 0.2s;
        }

        .nav-item.active {
            color: var(--secondary);
            font-weight: bold;
        }

        .nav-item.active img {
            opacity: 1;
            transform: scale(1.05);
            filter: invert(47%) sepia(88%) saturate(1458%) hue-rotate(193deg) brightness(96%) contrast(92%);
        }

        /* =========================================
           9. ê¸°íƒ€ (Toast, Modal, Animations)
           ========================================= */
        #toast-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            left: 20px;
            display: flex;
            flex-direction: column-reverse;
            gap: 12px;
            z-index: 10001;
            pointer-events: none;
        }

        .toast-item {
            background: #ffffff;
            border-radius: 18px;
            padding: 16px 45px 16px 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 12px;
            pointer-events: auto;
            border: 1px solid #eee;
            animation: toastSlideIn 0.4s;
            position: relative;
        }

        .toast-item.success {
            border-left: 6px solid var(--success);
        }

        .toast-item.reward {
            border-left: 6px solid var(--primary);
            background: #FFFDF0;
        }

        .toast-item.warning {
            border-left: 6px solid var(--danger);
        }

        .toast-item.info {
            border-left: 6px solid #2196F3;
        }

        .toast-close {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #ccc;
        }

        /* ì»¤ìŠ¤í…€ ì•Œë¦¼ì°½ */
        #custom-alert {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(3px);
        }

        #custom-alert.active {
            display: flex !important;
        }

        /* ì• ë‹ˆë©”ì´ì…˜ Keyframes */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes toastSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes pulse-orange {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }

        /* ì¤‘ì•™ ë°°ì§€ ìŠ¤íƒ€ì¼ */
        .header-center-badge {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);

            background: rgba(0, 0, 0, 0.15); /* ì–´ë‘ìš´ ë°˜íˆ¬ëª… ë°°ê²½ */
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            font-size: 0.7rem;
            font-weight: 800;
            padding: 4px 12px;
            border-radius: 20px;
            letter-spacing: 1px;
            backdrop-filter: blur(5px);
        }
	</style>
</head>
<body>
<div id="toast-container"></div>
<div class="app-container">

	<div id="page-main" class="page active">
		<header>
			<div class="header-top">
				<div class="header-branding">
					<div class="flex-col">
						<h1>ë´‰ë™ì¤‘ì•™êµíšŒ</h1>
						<span class="app-subtitle">ì´ˆë“±ë¶€ RPG ì–´ë“œë²¤ì²˜</span>
					</div>
				</div>
				<div class="header-center-badge">
					SEASON 1<br>ë¯¿ìŒì˜ ê°‘ì£¼
				</div>
				<div class="header-actions flex-row gap-5">
					<button class="icon-btn header-btn" onclick="showToast('ì•Œë¦¼', 'ìƒˆë¡œìš´ í€˜ìŠ¤íŠ¸ê°€ ë„ì°©í–ˆìŠµë‹ˆë‹¤!', 'info')">
						<img src="https://cdn-icons-png.flaticon.com/512/3602/3602145.png" alt="ì•Œë¦¼" style="filter: brightness(0) invert(1);">
					</button>
					<button class="icon-btn header-btn" onclick="handleLogout()">
						<img src="https://cdn-icons-png.flaticon.com/512/1828/1828445.png" alt="ë¡œê·¸ì•„ì›ƒ" style="filter: brightness(0) invert(1);">
					</button>
				</div>
			</div>
		</header>

		<div class="profile-card">
			<div class="flex-row mb-20">
				<div class="profile-avatar-wrap">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/avatar/warrior.png" id="user-profile-img" alt="ë‚´ ìºë¦­í„°" style="width:100%; height:100%; object-fit:cover;">
				</div>
				<div style="margin-left: 15px;">
					<div class="flex-row gap-5">
						<span class="user-rank-badge" style="background: #E3F2FD; color: #4A90E2;" id="user-grade-display">XXX ê¸¸ë“œ</span>
						<span class="user-rank-badge" style="background: #FFF3E0; color: #EF6C00;"><span id="user-level">2,500</span> ë‹¬ë€íŠ¸</span>
					</div>
					<h2 id="user-display-name" style="font-size: 1.3rem; color: #333;">ì‹ ì… ìš©ì‚¬ë‹˜</h2>
				</div>
			</div>

			<div style="background: #FAFBFC; padding: 12px; border-radius: 15px;">
				<div class="flex-between text-bold" style="font-size: 0.75rem; color: #777;">
					<span>ì„±ì¥ ê²½í—˜ì¹˜ (EXP)</span>
					<span><span id="current-exp">60</span> / 100</span>
				</div>
				<div class="exp-container">
					<div id="exp-bar" class="exp-bar-fill" style="width: 60%;"></div>
				</div>
			</div>
		</div>

		<div class="card text-center">
			<div class="flex-between mb-10">
				<h4 style="margin:0;">ì˜¤ëŠ˜ì˜ ë§ì”€ ğŸ“–</h4>
				<span class="text-light">ë§¤ì¼ 1íšŒ</span>
			</div>
			<p style="font-style:italic; min-height: 1.6em; margin-bottom: 15px; text-align: left;">
				<span id="typing-bible">ë‚´ê²Œ ëŠ¥ë ¥ ì£¼ì‹œëŠ” ì ì•ˆì—ì„œ ë‚´ê°€ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆëŠë‹ˆë¼</span>
			</p>
			<button id="btn-amen" class="btn-amen" onclick="handleAmen()">
				ğŸ™ ì•„ë©˜! (ë¯¿ìŒ +1)
			</button>
		</div>

		<div class="card">
			<div class="flex-between mb-15">
				<div class="flex-row gap-5">
					<h4 style="color: #4A90E2;">ğŸ›¡ï¸ ë‹¤ìœ—ì˜ ìš©ì‚¬ë“¤</h4>
					<span style="background: #FFF3E0; color: #EF6C00; font-size: 0.7rem; padding: 2px 8px; border-radius: 6px; font-weight: bold;">LV.5</span>
				</div>
				<span style="font-size: 0.75rem; color: #666; font-weight: bold;">ê¸¸ë“œì› 12/20</span>
			</div>
			<div class="flex-col gap-10">
				<div class="member-item">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/avatar/warrior.png" class="member-avatar">
					<div style="flex: 1;">
						<div class="text-bold text-sub" style="color:#444;">ê¹€ìš©ì‚¬ (ë‚˜) <span class="master-badge">MASTER</span></div>
						<div class="text-light">ì˜¤ëŠ˜ë„ í€˜ìŠ¤íŠ¸ ì™„ë£Œ! ğŸ”¥</div>
					</div>
					<div class="text-right">
						<div class="text-bold text-blue" style="font-size: 0.8rem;">Lv.15</div>
					</div>
				</div>
				<div class="member-item" style="opacity: 0.8;">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/avatar/wizard.png" class="member-avatar">
					<div style="flex: 1;">
						<div class="text-bold text-sub" style="color:#444;">ì´ë§ˆë²•</div>
						<div class="text-light">ì ‘ì† ì¤‘</div>
					</div>
					<div class="text-right">
						<div class="text-bold text-blue" style="font-size: 0.8rem;">Lv.12</div>
					</div>
				</div>
				<button style="width: 100%; padding: 10px; border: 1px dashed #DDD; background: none; border-radius: 15px; color: #999; font-size: 0.8rem; cursor: pointer;">
					+ ê¸¸ë“œì› ë”ë³´ê¸°
				</button>
			</div>
		</div>

		<div class="card mt-15">
			<div class="flex-between mb-15">
				<h4 style="margin: 0;">ê³µì§€ì‚¬í•­ ğŸ“¢</h4>
				<span class="text-light" style="cursor: pointer;" onclick="showPage('page-notice-detail')">ì „ì²´ë³´ê¸° ></span>
			</div>
			<div class="flex-col">
				<div class="notice-item" onclick="showPage('page-notice-detail')">
					<div class="flex-row mb-5">
						<span class="notice-tag" style="background: #FFEBEB; color: #FF4D4D;">ì¤‘ìš”</span>
						<span class="text-bold" style="font-size: 0.9rem;">ì´ë²ˆ ì£¼ ì£¼ì¼ ì•¼ì™¸ í™œë™ ì•ˆë‚´</span>
					</div>
					<p class="text-sub" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">êµíšŒ ê·¼ì²˜ ê³µì›ì—ì„œ ë³´ë¬¼ì°¾ê¸°ê°€ ì§„í–‰ë©ë‹ˆë‹¤!</p>
				</div>
				<div class="notice-item" onclick="showPage('page-notice-detail')">
					<div class="flex-row mb-5">
						<span class="notice-tag" style="background: #E3F2FD; color: #2196F3;">ì•ˆë‚´</span>
						<span class="text-bold" style="font-size: 0.9rem;">ìƒˆ ì¹œêµ¬ í™˜ì˜ íŒŒí‹° (ë‹¤ìŒ ì£¼)</span>
					</div>
					<p class="text-sub" style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">ìƒˆë¡œ ì˜¨ ì¹œêµ¬ë“¤ì„ ìœ„í•´ ë§›ìˆëŠ” ê°„ì‹ì´ ì¤€ë¹„ë˜ì–´ ìˆì–´ìš”.</p>
				</div>
			</div>
		</div>
	</div>

	<div id="page-notice-detail" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-main')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>ê³µì§€ì‚¬í•­</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>
		<div class="card">
			<span class="text-bold text-blue" style="font-size: 0.8rem;">[ì•¼ì™¸ í™œë™ ì•ˆë‚´]</span>
			<h4 style="font-size:1.3rem; margin: 10px 0;">ì´ë²ˆ ì£¼ ì£¼ì¼ ì•¼ì™¸ í™œë™ ì•ˆë‚´</h4>
			<div style="width: 100%; height: 1px; background: #eee; margin: 15px 0;"></div>
			<p style="color:#555; font-size:1rem; line-height: 1.8;">
				ì•ˆë…•í•˜ì„¸ìš”, ìš©ì‚¬ ì—¬ëŸ¬ë¶„!<br><br>
				ì´ë²ˆ ì£¼ ì£¼ì¼ì—ëŠ” êµíšŒ ê·¼ì²˜ ê³µì›ì—ì„œ <b>'ë§ì”€ ë³´ë¬¼ì°¾ê¸°'</b>ê°€ ì§„í–‰ë©ë‹ˆë‹¤. <br><br>
				ì¤€ë¹„ë¬¼: í¸í•œ ì˜·ì°¨ë¦¼, ìš´ë™í™”, ê°œì¸ ë¬¼í†µ<br>
				ì¼ì‹œ: ì´ë²ˆ ì£¼ ì£¼ì¼ 11ì‹œ ì˜ˆë°° í›„<br><br>
				ë³´ë¬¼ì„ ë§ì´ ì°¾ëŠ” ìš©ì‚¬ì—ê²ŒëŠ” íŠ¹ë³„í•œ ë‹¬ë€íŠ¸ ë³´ìƒì´ ê¸°ë‹¤ë¦¬ê³  ìˆìœ¼ë‹ˆ ê¸°ëŒ€í•´ ì£¼ì„¸ìš”!
			</p>
			<button class="btn btn-main" onclick="showPage('page-main')">ëª©ë¡ìœ¼ë¡œ</button>
		</div>
	</div>

	<div id="page-attendance" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-main')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>ì£¼ì¼ ì¶œì„ë¶€</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>

		<div class="card" style="background: linear-gradient(135deg, #FF9966 0%, #FF5E62 100%); color: white; margin-top: 20px;">
			<div class="flex-between">
				<div class="flex-row gap-10">
					<span style="font-size: 1.5rem;">ğŸ”¥</span>
					<span>í˜„ì¬ <b>3ì£¼ ì—°ì†</b> ê°œê·¼ ì¤‘!</span>
				</div>
				<div style="background: rgba(255,255,255,0.25); padding: 6px 12px; border-radius: 20px; font-weight: bold; font-size: 0.8rem;">ê°œê·¼ìƒ ë„ì „!</div>
			</div>
		</div>

		<div class="card text-center" style="padding: 30px 20px;">
			<div class="flex-center gap-10 mb-10">
				<h3 id="attendance-date-title">2ì›” 1ì£¼ì°¨</h3>
				<span class="text-white" id="sunday-badge" style="display:none; background: var(--secondary); font-size: 0.7rem; padding: 3px 8px; border-radius: 4px;">ì˜¤ëŠ˜ì€ ì£¼ì¼!</span>
			</div>

			<p style="background: #F8F9FA; padding: 6px 12px; border-radius: 8px; display: inline-block; margin-bottom: 25px; color: #666; font-size: 0.9rem;">
				ğŸ ì£¼ì¼ ì˜ˆë°° ì¶œì„ ë³´ìƒ: <b style="color:#FFD700">100 P</b>
			</p>

			<div id="btn-attendance-check"
				 style="width: 160px; height: 160px; margin: 20px auto; background: #ffffff; border-radius: 50%; box-shadow: 0 10px 25px rgba(0,0,0,0.05); display: flex; align-items: center; justify-content: center; position: relative; border: 4px solid transparent; background-image: linear-gradient(#fff, #fff), linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 100%); background-origin: border-box; background-clip: content-box, border-box;"
				 onclick="handleSundayAttendance()">
				<div class="stamp-inner-content" style="display: flex; flex-direction: column; align-items: center; z-index: 2;">
					<img src="https://cdn-icons-png.flaticon.com/512/2919/2919600.png" class="stamp-icon-before" alt="êµíšŒ" style="width: 48px; margin-bottom: 8px; opacity: 0.8;">
					<span class="stamp-guide-text" id="stamp-guide-msg" style="color: var(--secondary); font-weight: 800; font-size: 0.85rem; line-height: 1.3;">í„°ì¹˜í•˜ì—¬<br>ì¶œì„í•˜ê¸°</span>
				</div>
				<div class="stamped-mark" style="display:none;">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/attendance.png" alt="ì°¸ì˜í–ˆì–´ìš”" style="width: 130px;">
				</div>
			</div>
			<p class="text-light mt-15">* ë§¤ì£¼ ì¼ìš”ì¼, êµíšŒì— ì™€ì„œ ë„ì¥ì„ ê¾¹! ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
		</div>

		<div class="section-title">ğŸ“… 2ì›”ì˜ ì£¼ì¼(Sunday)</div>
		<div id="sunday-list-container" class="flex-col gap-10" style="padding: 0 20px 30px 20px;">
		</div>
	</div>

	<div id="page-quest" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-main')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>í€˜ìŠ¤íŠ¸ ë³´ë“œ</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>

		<div class="card" style="border: 1px dashed #ced4da; text-align: center;">
			<div class="text-bold mb-10" style="background: #f8f9fa; display: inline-block; padding: 4px 12px; border-radius: 12px; color: #555;">ğŸ’¡ í€˜ìŠ¤íŠ¸ ì§„í–‰ ë°©ë²•</div>
			<div class="flex-center gap-10 mb-10">
				<div class="flex-col flex-center">
					<span style="font-size: 1.2rem;">ğŸƒ</span><span class="text-bold" style="font-size:0.7rem;">ë¯¸ì…˜ ì‹¤ì²œ</span>
				</div>
				<span style="color:#ccc;">â–¶</span>
				<div class="flex-col flex-center">
					<span style="font-size: 1.2rem;">ğŸŸ§</span><span class="text-bold" style="font-size:0.7rem;">ìŠ¹ì¸ ìš”ì²­</span>
				</div>
				<span style="color:#ccc;">â–¶</span>
				<div class="flex-col flex-center">
					<span style="font-size: 1.2rem;">ğŸ</span><span class="text-bold" style="font-size:0.7rem;">ë³´ìƒ íšë“</span>
				</div>
			</div>
			<p class="text-light">* ë¶€ëª¨ë‹˜(ì„ ìƒë‹˜)ì´ í™•ì¸í•˜ë©´ ì™„ë£Œë©ë‹ˆë‹¤!</p>
		</div>

		<div class="section-title">âš”ï¸ ìš©ì‚¬ì˜ ë§¤ì¼ í›ˆë ¨ (Daily)</div>
		<div class="quest-card">
			<div class="q-item" data-id="d1" data-reward="50">
				<div class="q-icon-box">ğŸ™</div>
				<div class="q-content">
					<div class="q-title">ì•„ì¹¨ì— ì¼ì–´ë‚˜ì„œ ê¸°ë„í•˜ê¸°</div>
					<div class="q-desc">í•˜ë£¨ì˜ ì‹œì‘ì„ í•˜ë‚˜ë‹˜ê³¼ í•¨ê»˜!</div>
					<div class="q-reward-tag">50 P</div>
				</div>
				<button class="btn-quest-action state-ready" onclick="handleQuestClick(this)">ë„ì „</button>
			</div>
			<div class="q-item" data-id="d2" data-reward="50">
				<div class="q-icon-box">ğŸ“–</div>
				<div class="q-content">
					<div class="q-title">ì„±ê²½ ë§ì”€ 1ì¥ ì½ê¸°</div>
					<div class="q-desc">ì˜¤ëŠ˜ì˜ ì–‘ì‹ì„ ì„­ì·¨í•´ìš”</div>
					<div class="q-reward-tag">50 P</div>
				</div>
				<button class="btn-quest-action state-ready" onclick="handleQuestClick(this)">ë„ì „</button>
			</div>
		</div>

		<div class="section-title">ğŸ‘‘ ì£¼ì¼ ìŠ¤í˜ì…œ í€˜ìŠ¤íŠ¸ (Sunday)</div>
		<div class="quest-card" style="position: relative;">
			<div id="sunday-lock-overlay"
				 style="display:none; position:absolute; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.85); z-index:10; border-radius:25px; display:flex; flex-direction:column; align-items:center; justify-content:center; backdrop-filter: blur(2px);">
				<div style="font-size:2.5rem; margin-bottom:10px;">ğŸ”’</div>
				<p class="text-bold" style="color:#555;">ì£¼ì¼(ì¼ìš”ì¼)ì— ì—´ë¦½ë‹ˆë‹¤!</p>
			</div>
			<div class="q-item" data-id="s1" data-reward="100">
				<div class="q-icon-box sunday">ğŸ’’</div>
				<div class="q-content">
					<div class="q-title">ì£¼ì¼ ì˜ˆë°° ì§€ê°í•˜ì§€ ì•Šê¸°</div>
					<div class="q-desc">10ë¶„ ì „ì— ìë¦¬ì— ì•‰ì•„ìš”</div>
					<div class="q-reward-tag sunday">100 P</div>
				</div>
				<button class="btn-quest-action state-ready" onclick="handleQuestClick(this)">ë„ì „</button>
			</div>
			<div class="q-item" data-id="s2" data-reward="50">
				<div class="q-icon-box sunday">ğŸ’Œ</div>
				<div class="q-content">
					<div class="q-title">ì •ì„±ê» í—Œê¸ˆ ì¤€ë¹„í•˜ê¸°</div>
					<div class="q-desc">ê°ì‚¬í•˜ëŠ” ë§ˆìŒì„ ë‹´ì•„ìš”</div>
					<div class="q-reward-tag sunday">50 P</div>
				</div>
				<button class="btn-quest-action state-ready" onclick="handleQuestClick(this)">ë„ì „</button>
			</div>
		</div>
		<div class="h-20"></div>
	</div>

	<div id="page-guild" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-main')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>ê¸¸ë“œ ë³¸ë¶€</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>

		<div class="guild-banner-card">
			<div class="guild-badge-wrapper">
				<div class="guild-badge-icon">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/guild/grade/guid_image_4_1.png" alt="ê¸¸ë“œì´ë¯¸ì§€">
				</div>
				<div class="guild-lvl-badge">LV. 5</div>
			</div>
			<h2 class="guild-main-name" style="margin: 5px 0;">ë‹¤ìœ—ì˜ ìš©ì‚¬ë“¤</h2>
			<p class="guild-desc" style="opacity: 0.8; font-style: italic; margin-bottom: 20px;">"ë‘ë ¤ì›Œ ë§ê³  ë¯¿ìŒìœ¼ë¡œ ë‚˜ì•„ê°€ì!"</p>
			<div class="guild-stats-row" style="display: flex; justify-content: space-around; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 15px;">
				<div class="flex-col">
					<span style="font-size: 0.7rem; opacity: 0.6;">ê¸¸ë“œì›</span>
					<span style="font-weight: bold;">12/20</span>
				</div>
				<div class="flex-col">
					<span style="font-size: 0.7rem; opacity: 0.6;">ë­í‚¹</span>
					<span style="font-weight: bold;">3ìœ„</span>
				</div>
				<div class="flex-col">
					<span style="font-size: 0.7rem; opacity: 0.6;">í¬ì¸íŠ¸</span>
					<span style="font-weight: bold;">15,400</span>
				</div>
			</div>
		</div>

		<div class="section-title">âœ¨ ìš°ë¦¬ ê¸¸ë“œ íš¨ê³¼ (ë²„í”„)</div>
		<div class="flex-row gap-10" style="overflow-x: auto; padding: 0 20px 10px 20px;">
			<div class="card flex-row gap-10" style="min-width: 130px; margin: 0; padding: 12px; border-radius: 15px;">
				<div style="font-size: 1.5rem;">ğŸ’°</div>
				<div class="flex-col">
					<strong style="font-size: 0.8rem;">ë‹¬ë€íŠ¸ ë³´ë„ˆìŠ¤</strong>
					<span class="text-blue" style="font-size: 0.7rem; font-weight: bold;">íšë“ëŸ‰ +5%</span>
				</div>
			</div>
			<div class="card flex-row gap-10" style="min-width: 130px; margin: 0; padding: 12px; border-radius: 15px;">
				<div style="font-size: 1.5rem;">âš”ï¸</div>
				<div class="flex-col">
					<strong style="font-size: 0.8rem;">ê²½í—˜ì¹˜ ë¶€ìŠ¤íŠ¸</strong>
					<span class="text-blue" style="font-size: 0.7rem; font-weight: bold;">ì„±ì¥ì†ë„ +10%</span>
				</div>
			</div>
		</div>

		<div class="section-title">ğŸ”¥ ì´ë²ˆ ì£¼ í˜‘ë™ ë¯¸ì…˜</div>
		<div class="card">
			<div class="flex-between mb-10">
				<span class="q-reward-tag sunday" style="color: #EF6C00;">ì§„í–‰ ì¤‘</span>
				<span class="text-blue text-bold mission-percent">75%</span>
			</div>
			<h4>í•¨ê»˜ ì„±ê²½ 100ì¥ ì½ê¸°</h4>
			<div style="width: 100%; height: 10px; background: #eee; border-radius: 10px; margin: 10px 0; overflow: hidden;">
				<div class="progress-bar" style="width: 75%; height: 100%; background: linear-gradient(90deg, #4A90E2, #64B5F6);"></div>
			</div>
			<p class="text-sub mb-15">ğŸ ì™„ë£Œ ì‹œ ì „ì› <b>500 ë‹¬ë€íŠ¸</b> ì§€ê¸‰!</p>
			<button class="btn btn-sub btn-contribute" onclick="handleGuildContribute()">
				ğŸ™Œ ë‚˜ë„ ê¸°ì—¬í•˜ê¸° (ë§ì”€ ì½ê¸°)
			</button>
		</div>

		<div class="section-title">ğŸ’¬ ê¸¸ë“œì› ì‘ì›ë°©</div>
		<div class="card">
			<div id="guild-chat-list" style="max-height: 150px; overflow-y: auto; background: #F8F9FA; border-radius: 10px; padding: 10px; margin-bottom: 10px;">
				<div class="mb-5 text-sub">
					<span class="text-bold" style="color: #333; margin-right: 5px;">ê¹€í•˜ëŠ˜:</span>
					<span>ì˜¤ëŠ˜ ë¯¸ì…˜ ë‹¤ë“¤ í–ˆì–´? í™”ì´íŒ…!</span>
				</div>
				<div class="mb-5 text-sub">
					<span class="text-bold" style="color: #333; margin-right: 5px;">ì´ë¯¿ìŒ:</span>
					<span>ì‘! ë‚˜ë„ ë°©ê¸ˆ ì™„ë£Œí–ˆì–´ ã…ã…</span>
				</div>
			</div>
			<div class="flex-row gap-5">
				<input type="text" id="guild-chat-input" placeholder="ì‘ì› ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”!" style="margin: 0; flex: 1;">
				<button onclick="sendGuildChat()" style="background: var(--secondary); color: white; border: none; border-radius: 10px; padding: 0 15px; font-weight: bold; height: 42px;">ì „ì†¡</button>
			</div>
		</div>
	</div>

	<div id="page-mypage" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-main')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>ì„¤ì • / ë‚´ ì •ë³´</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>

		<div class="card text-center" style="padding: 0; overflow: hidden;">
			<div style="height: 6px; background: linear-gradient(90deg, #4A90E2, #56CCF2);"></div>
			<div style="padding: 30px 20px;">
				<div style="position: relative; width: 80px; height: 80px; margin: 0 auto 12px;">
					<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/avatar/warrior.png" id="mypage-img"
						 style="width: 100%; height: 100%; object-fit: cover; border-radius: 25px; border: 3px solid #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
					<div style="position: absolute; bottom: -6px; right: -6px; background: #333; color: var(--primary); font-size: 0.65rem; font-weight: 800; padding: 3px 8px; border-radius: 12px; border: 2px solid #fff;">
						LV.1
					</div>
				</div>
				<div style="display: inline-block; background: #E3F2FD; color: #1565C0; font-size: 0.7rem; padding: 4px 12px; border-radius: 20px; font-weight: 700; margin-bottom: 5px;">âš”ï¸ ì „ì‚¬
					(Warrior)
				</div>
				<h2 id="mypage-name" style="font-size: 1.4rem; margin: 5px 0;">ì‹ ì… ìš©ì‚¬ë‹˜</h2>
				<p class="text-light">ë´‰ë™ì¤‘ì•™êµíšŒ ì´ˆë“±ë¶€ 1í•™ë…„ 1ë°˜</p>
			</div>
			<div style="display: flex; justify-content: space-around; background: #FAFAFA; padding: 20px 0; border-top: 1px solid #f0f0f0;">
				<div class="flex-col flex-center" style="flex: 1;">
					<span class="text-light mb-5">ë³´ìœ  ë‹¬ë€íŠ¸</span>
					<span style="font-size: 1rem; font-weight: 800;">2,500 P</span>
				</div>
				<div style="width: 1px; height: 30px; background: #e0e0e0;"></div>
				<div class="flex-col flex-center" style="flex: 1;">
					<span class="text-light mb-5">ëˆ„ì  ì¶œì„</span>
					<span style="font-size: 1rem; font-weight: 800; color: #333;">12ì¼</span>
				</div>
			</div>
		</div>

		<div class="flex-row gap-15" style="margin: 0 20px;">
			<button class="card flex-col flex-center gap-10" style="margin: 0; flex: 1; cursor: pointer;" onclick="showPage('page-qrcode')">
				<div class="flex-center" style="font-size: 1.5rem; background: #F1F8FF; width: 45px; height: 45px; border-radius: 15px;">ğŸ”</div>
				<span class="text-bold text-sub">QR ì²´í¬ì¸</span>
			</button>
			<button class="card flex-col flex-center gap-10" style="margin: 0; flex: 1; cursor: pointer;" onclick="showPage('page-point-history')">
				<div class="flex-center" style="font-size: 1.5rem; background: #F1F8FF; width: 45px; height: 45px; border-radius: 15px;">ğŸ’°</div>
				<span class="text-bold text-sub">í¬ì¸íŠ¸ ë‚´ì—­</span>
			</button>
		</div>

		<div class="section-title text-light">ê³„ì • ê´€ë¦¬</div>
		<div class="menu-list">
			<div class="menu-item" onclick="showPage('page-name-change')">
				<div class="flex-row gap-10">
					<span style="font-size: 1.1rem;">ğŸ·ï¸</span>
					<span class="text-bold text-sub">ìºë¦­í„° ì´ë¦„ ë³€ê²½</span>
				</div>
				<span style="color:#ccc;">â€º</span>
			</div>
			<div class="menu-item" onclick="showPage('page-password-change')">
				<div class="flex-row gap-10">
					<span style="font-size: 1.1rem;">ğŸ”</span>
					<span class="text-bold text-sub">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</span>
				</div>
				<span style="color:#ccc;">â€º</span>
			</div>
		</div>
		<div class="section-title text-light">ì•± ì„¤ì •</div>
		<div class="menu-list">
			<div class="menu-item" onclick="handleLogout()">
				<div class="flex-row gap-10">
					<span style="font-size: 1.1rem;">ğŸšª</span>
					<span class="text-bold text-red">ë¡œê·¸ì•„ì›ƒ</span>
				</div>
				<span style="color:#ccc;">â€º</span>
			</div>
		</div>
		<div class="app-version-text text-center text-light mt-30 mb-20">Ver 1.0.0</div>
	</div>

	<div id="page-point-history" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-mypage')">
					<img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ">
				</button>
				<h2>í¬ì¸íŠ¸ ë‚´ì—­</h2>
			</div>
			<div class="flex-row gap-10">
				<div class="sub-info-badge">Lv.<span class="sub-lvl">1</span></div>
				<div class="sub-info-badge money"><span class="sub-money">2500</span> P</div>
			</div>
		</div>

		<div class="point-summary-card">
			<span style="font-size: 0.85rem; opacity: 0.8;">í˜„ì¬ ë³´ìœ  ë‹¬ë€íŠ¸</span>
			<h2 class="total-point">
				<span class="sub-money">2,500</span> <small style="font-size: 1.2rem;">P</small>
			</h2>
			<div class="point-card-bottom">
				<div class="flex-col flex-center text-sub" style="color: white;">
					<span>ì´ë²ˆ ì£¼ íšë“</span>
					<strong style="font-size: 1rem;">+150 P</strong>
				</div>
				<div style="width: 1px; height: 25px; background: rgba(255,255,255,0.3);"></div>
				<div class="flex-col flex-center text-sub" style="color: white;">
					<span>ì´ë²ˆ ì£¼ ì‚¬ìš©</span>
					<strong style="font-size: 1rem; color: #FFCDD2;">-500 P</strong>
				</div>
			</div>
		</div>

		<div class="history-filter-tabs">
			<button class="filter-tab active" onclick="setHistoryFilter('all')">ì „ì²´</button>
			<button class="filter-tab" onclick="setHistoryFilter('earn')">ì ë¦½ (+)</button>
			<button class="filter-tab" onclick="setHistoryFilter('use')">ì‚¬ìš© (-)</button>
		</div>
		<div class="menu-list" id="point-history-list" style="min-height: 200px;"></div>
		<button id="btn-load-more" class="btn-load-more" onclick="loadMoreHistory()">ğŸ‘‡ ë” ë³´ê¸° (More)</button>
	</div>

	<div id="page-qrcode" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-mypage')"><img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ"></button>
				<h2>ë‚˜ì˜ QRì½”ë“œ</h2>
			</div>
		</div>
		<div class="card text-center" style="margin-top: 30px; padding: 40px 20px;">
			<div class="mb-20">
				<h4 id="qr-user-name" style="margin-bottom: 5px;">ì‹ ì… ìš©ì‚¬ë‹˜</h4>
				<p class="text-light">ì¶œì„ì²´í¬ë‚˜ ë‹¬ë€íŠ¸ ì‹œì¥ì—ì„œ ë³´ì—¬ì£¼ì„¸ìš”!</p>
			</div>
			<div style="background: white; padding: 15px; display: inline-block; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 25px;">
				<img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=BongdongUser" id="user-qr-image" alt="QR Code" style="width: 180px; height: 180px; display: block;">
			</div>
			<p class="text-light">ì„ ìƒë‹˜ê»˜ ì´ í™”ë©´ì„ ë³´ì—¬ë“œë¦¬ë©´<br>ë¹ ë¥´ê²Œ ì¶œì„ í™•ì¸ì„ í•  ìˆ˜ ìˆì–´ìš”! ğŸ›¡ï¸</p>
		</div>
	</div>

	<div id="page-name-change" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-mypage')"><img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ"></button>
				<h2>ìºë¦­í„°ëª… ë³€ê²½</h2>
			</div>
		</div>
		<div class="card" style="margin-top: 20px;">
			<div class="text-center mb-25">
				<div style="font-size: 3rem; margin-bottom: 10px;">ğŸ·ï¸</div>
				<p class="text-sub">ëª¨í—˜ê°€ë‹˜ì˜ ìƒˆë¡œìš´ ì´ë¦„ì„ ì •í•´ì£¼ì„¸ìš”!</p>
			</div>
			<div class="mb-25">
				<label class="text-bold text-sub mb-5" style="display: block; margin-left: 5px;">ìƒˆë¡œìš´ ìºë¦­í„°ëª…</label>
				<input type="text" id="new-character-name" placeholder="2~8ì ì‚¬ì´ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”" maxlength="8">
			</div>
			<button class="btn btn-main" onclick="handleNameChange()">ë³€ê²½í•˜ê¸°</button>
		</div>
	</div>

	<div id="page-password-change" class="page">
		<div class="sub-header">
			<div class="flex-row gap-5">
				<button class="btn-back-game" onclick="showPage('page-mypage')"><img src="https://cdn-icons-png.flaticon.com/512/271/271220.png" alt="ë’¤ë¡œ"></button>
				<h2>ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h2>
			</div>
		</div>
		<div class="card" style="margin-top: 20px;">
			<div class="text-center mb-25">
				<div style="font-size: 3rem; margin-bottom: 10px;">ğŸ”</div>
				<p class="text-sub">ì•ˆì „í•œ ëª¨í—˜ì„ ìœ„í•´<br>ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•´ ì£¼ì„¸ìš”!</p>
			</div>
			<div class="mb-15"><input type="password" id="current-pw" placeholder="ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"></div>
			<div class="mb-15"><input type="password" id="new-pw" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥"></div>
			<div class="mb-25"><input type="password" id="new-pw-confirm" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ ë‹¤ì‹œ ì…ë ¥"></div>
			<button class="btn btn-main" onclick="handlePasswordChange()">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ì™„ë£Œ</button>
		</div>
	</div>

	<nav class="nav-bar" id="bottom-nav">
		<button class="nav-item active" onclick="showPage('page-main')">
			<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/navi/home.png"><span>í™ˆ</span>
		</button>
		<button class="nav-item" onclick="showPage('page-attendance')">
			<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/navi/stamp.png"><span>ì¶œì„</span>
		</button>
		<button class="nav-item" onclick="showPage('page-guild')">
			<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/navi/guild.png"><span>ê¸¸ë“œ</span>
		</button>
		<button class="nav-item" onclick="showPage('page-quest')">
			<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/navi/quest.png"><span>í€˜ìŠ¤íŠ¸</span>
		</button>
		<button class="nav-item" onclick="showPage('page-mypage')">
			<img src="https://cdn.jsdelivr.net/gh/ysrim/bjcc_ss@main/images/navi/settings.png"><span>ì„¤ì •</span>
		</button>
	</nav>
</div>

<div id="custom-alert">
	<div class="card text-center" style="max-width:320px; padding:30px; margin: 20px;">
		<div id="alert-icon" style="font-size: 3rem; margin-bottom: 15px;">âœ¨</div>
		<h4 id="alert-title" class="mb-10 text-blue">ì•Œë¦¼</h4>
		<p id="alert-message" class="text-sub mb-25" style="line-height: 1.5; word-break: keep-all;"></p>
		<button class="btn btn-main" onclick="closeAlert()" style="margin-top:0;">í™•ì¸</button>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
	let currentTalent = 2500;

	// í˜ì´ì§€ ì „í™˜ í•¨ìˆ˜
	function showPage(pageId) {
		$('.page').hide();
		$('#' + pageId).show();
		$('#bottom-nav').css('display', 'flex');

		if (pageId === 'page-main') {
			const targetExp = $('#current-exp').text();
			const totalExp = 100;
			const percentage = (targetExp / totalExp) * 100;
			$('#exp-bar').css('width', '0%');
			setTimeout(() => {
				$('#exp-bar').css('width', percentage + '%');
			}, 100);
			typeBible();
		}

		$('.nav-item').removeClass('active');
		if (pageId === 'page-main') $('.nav-item').eq(0).addClass('active');
		if (pageId === 'page-attendance') {
			initSundayAttendance();
			$('.nav-item').eq(1).addClass('active');
		}
		if (pageId === 'page-guild') $('.nav-item').eq(2).addClass('active');
		if (pageId === 'page-quest') {
			initQuestPage();
			$('.nav-item').eq(3).addClass('active');
		}
		if (pageId === 'page-mypage') $('.nav-item').eq(4).addClass('active');
		if (pageId === 'page-point-history') {
			setHistoryFilter('all');
		}
	}

	function updateTalent(amount) {
		let $subDisplay = $('.sub-money, #user-level');
		let startValue = currentTalent;
		let endValue = currentTalent + amount;
		$({val: startValue}).animate({val: endValue}, {
			duration: 800, easing: 'swing',
			step: function () {
				$subDisplay.text(Math.floor(this.val).toLocaleString());
			},
			complete: function () {
				currentTalent = endValue;
				$subDisplay.text(currentTalent.toLocaleString());
			}
		});
	}

	function showAlert(msg, icon = 'âœ¨', title = 'ì•Œë¦¼') {
		$('#alert-message').html(msg);
		$('#alert-icon').html(icon);
		$('#alert-title').text(title);
		$('#custom-alert').addClass('active');
	}

	function closeAlert() {
		$('#custom-alert').removeClass('active');
	}

	$(document).ready(function () {
		// ì´ˆê¸°í™”
		updateTalent(0);
	});

	const bibleText = "ë‚´ê²Œ ëŠ¥ë ¥ ì£¼ì‹œëŠ” ì ì•ˆì—ì„œ ë‚´ê°€ ëª¨ë“  ê²ƒì„ í•  ìˆ˜ ìˆëŠë‹ˆë¼";
	let typingIdx = 0;
	let isTyping = false;

	function typeBible() {
		if (isTyping) return;
		const $target = $('#typing-bible');
		$target.text("");
		typingIdx = 0;
		isTyping = true;

		function typing() {
			if (typingIdx < bibleText.length) {
				$target.append(bibleText[typingIdx]);
				typingIdx++;
				setTimeout(typing, 100);
			} else {
				isTyping = false;
			}
		}

		typing();
	}

	function handleLogout() {
		location.href = 'intro.html';
	}

	function handlePasswordChange() {
		const currentPw = $('#current-pw').val();
		const newPw = $('#new-pw').val();
		const newPwConfirm = $('#new-pw-confirm').val();

		if (!currentPw || !newPw || !newPwConfirm) {
			showAlert('ëª¨ë“  í•­ëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!', 'âš ï¸', 'ì…ë ¥ ì˜¤ë¥˜');
			return;
		}
		if (newPw !== newPwConfirm) {
			showAlert('ìƒˆ ë¹„ë°€ë²ˆí˜¸ê°€ ì„œë¡œ ì¼ì¹˜í•˜ì§€ ì•Šì•„ìš”.', 'âŒ', 'í™•ì¸ ì‹¤íŒ¨');
			return;
		}
		if (newPw.length < 4) {
			showAlert('ë¹„ë°€ë²ˆí˜¸ëŠ” 4ìë¦¬ ì´ìƒìœ¼ë¡œ í•´ì£¼ì„¸ìš”!', 'ğŸ”‘', 'ë³´ì•ˆ ì•½í•¨');
			return;
		}
		showAlert('ë¹„ë°€ë²ˆí˜¸ê°€ ì•ˆì „í•˜ê²Œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!<br>ìƒˆë¡œìš´ ë§ˆìŒìœ¼ë¡œ ëª¨í—˜ì„ ë– ë‚˜ë³¼ê¹Œìš”?', 'âœ¨', 'ë³€ê²½ ì™„ë£Œ');
		$('#current-pw, #new-pw, #new-pw-confirm').val('');
		showPage('page-mypage');
	}

	function showToast(title, msg, type = 'info') {
		const id = Date.now();
		const icons = {success: 'âœ…', reward: 'ğŸ’°', warning: 'âš ï¸', info: 'ğŸ“¢'};
		const icon = icons[type] || 'ğŸ””';
		const toastHtml = `
            <div class="toast-item ${type}" id="toast-${id}">
                <div style="font-size:1.5rem;">${icon}</div>
                <div class="flex-col">
                    <span class="text-bold" style="font-size:0.95rem; color:#333;">${title}</span>
                    <span class="text-sub">${msg}</span>
                </div>
                <button class="toast-close" onclick="removeToast(${id})">&times;</button>
            </div>`;
		$('#toast-container').append(toastHtml);
	}

	function removeToast(id) {
		const $target = $(`#toast-${id}`);
		if ($target.length) {
			$target.css('animation', 'toastFadeOut 0.3s forwards');
			setTimeout(() => $target.remove(), 300);
		}
	}

	function handleNameChange() {
		const newName = $('#new-character-name').val().trim();
		if (!newName) {
			showToast('ì…ë ¥ ì˜¤ë¥˜', 'ë³€ê²½í•  ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'warning');
			return;
		}
		if (newName.length < 2) {
			showToast('ì…ë ¥ ì˜¤ë¥˜', 'ì´ë¦„ì€ ìµœì†Œ 2ê¸€ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.', 'warning');
			return;
		}
		$('#user-display-name').text(newName);
		$('#mypage-name').text(newName);
		$('#qr-user-name').text(newName);
		showAlert(`ì´ì œë¶€í„° ëª¨í—˜ê°€ë‹˜ì˜ ì´ë¦„ì€<br><b>[${newName}]</b> ì…ë‹ˆë‹¤!`, 'âœ¨', 'ë³€ê²½ ì™„ë£Œ');
		showToast('ë³€ê²½ ì„±ê³µ', 'ìºë¦­í„°ëª…ì´ ì„±ê³µì ìœ¼ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.', 'success');
		$('#new-character-name').val('');
		showPage('page-mypage');
	}

	function handleAmen() {
		const $btn = $('#btn-amen');
		if ($btn.hasClass('disabled')) return;
		$btn.addClass('disabled').text('ì˜¤ëŠ˜ì˜ ë§ì”€ì„ ë§ˆìŒì— ìƒˆê²¼ìŠµë‹ˆë‹¤ âœ¨');
		showToast('ë¯¿ìŒì´ ì„±ì¥í–ˆìŠµë‹ˆë‹¤!', 'ë§ì”€ ë³´ìƒìœ¼ë¡œ 10Pë¥¼ íšë“í–ˆì–´ìš”.', 'reward');
		updateTalent(10);
		showAlert('ì˜¤ëŠ˜ í•˜ë£¨ë„ ë§ì”€ ì•ˆì—ì„œ ìŠ¹ë¦¬í•˜ì„¸ìš”!', 'ğŸ’–', 'ì•„ë©˜!');
	}

	// ë°ì´í„° ë¶€ë¶„ (ì¶•ì•½í•¨)
	const historyData = [
		{type: 'earn', category: 'attendance', title: 'ì£¼ì¼ ì¶œì„ ë³´ìƒ', date: '2025.02.02', amount: 100, balance: 2600},
		{type: 'earn', category: 'quest', title: 'ì¼ì¼ í€˜ìŠ¤íŠ¸ ì™„ë£Œ', date: '2025.02.02', amount: 50, balance: 2500},
		{type: 'use', category: 'shop', title: 'ë‹¬ë€íŠ¸ ì‹œì¥ (í•™ìš©í’ˆ)', date: '2025.02.01', amount: -500, balance: 2450},
		{type: 'earn', category: 'event', title: 'ì„±ê²½ ì•”ì†¡ ëŒ€íšŒ', date: '2025.01.28', amount: 300, balance: 2950},
		{type: 'earn', category: 'food', title: 'ê°„ì‹ ë‚˜ëˆ”', date: '2025.01.28', amount: 50, balance: 2650},
		{type: 'use', category: 'shop', title: 'ì¹œêµ¬ ì„ ë¬¼ êµ¬ë§¤', date: '2025.01.25', amount: -200, balance: 2600},
		{type: 'earn', category: 'attendance', title: 'ì£¼ì¼ ì¶œì„ ë³´ìƒ', date: '2025.01.26', amount: 100, balance: 2800},
		{type: 'earn', category: 'quest', title: 'ì„±ê²½ í•„ì‚¬ ì™„ë£Œ', date: '2025.01.25', amount: 150, balance: 2700},
		{type: 'earn', category: 'quest', title: 'ë¶€ëª¨ë‹˜ ì•ˆë§ˆ', date: '2025.01.24', amount: 50, balance: 2550},
		{type: 'use', category: 'event', title: 'ì§€ê° ë²Œê¸ˆ', date: '2025.01.22', amount: -50, balance: 2500},
		{type: 'earn', category: 'attendance', title: 'ì£¼ì¼ ì¶œì„ ë³´ìƒ', date: '2025.01.19', amount: 100, balance: 2550},
		{type: 'earn', category: 'quest', title: 'íí‹°(QT) ì¸ì¦', date: '2025.01.18', amount: 30, balance: 2450},
		{type: 'earn', category: 'quest', title: 'íí‹°(QT) ì¸ì¦', date: '2025.01.17', amount: 30, balance: 2420},
		{type: 'earn', category: 'quest', title: 'íí‹°(QT) ì¸ì¦', date: '2025.01.16', amount: 30, balance: 2390},
		{type: 'earn', category: 'event', title: 'ì‹ ë…„ ê°ì‚¬ ì˜ˆë°°', date: '2025.01.01', amount: 500, balance: 2360},
		{type: 'use', category: 'shop', title: 'ë–¡ë³¶ì´ íŒŒí‹°', date: '2024.12.31', amount: -1000, balance: 1860},
		{type: 'earn', category: 'attendance', title: 'ì†¡êµ¬ì˜ì‹  ì˜ˆë°°', date: '2024.12.31', amount: 200, balance: 2860},
		{type: 'earn', category: 'quest', title: 'ì „ë„ ì¶•ì œ ì¹œêµ¬ì´ˆì²­', date: '2024.12.25', amount: 1000, balance: 2660},
		{type: 'earn', category: 'attendance', title: 'ì„±íƒ„ì ˆ ì˜ˆë°°', date: '2024.12.25', amount: 200, balance: 1660},
		{type: 'earn', category: 'attendance', title: 'ì£¼ì¼ ì¶œì„ ë³´ìƒ', date: '2024.12.22', amount: 100, balance: 1460},
	];

	const categoryIcons = {attendance: 'â›ª', quest: 'âš”ï¸', shop: 'ğŸ›’', food: 'ğŸ”', event: 'ğŸ‰', default: 'ğŸ’°'};
	let currentHistoryFilter = 'all';
	let currentPage = 1;
	const itemsPerPage = 7;
	let filteredData = [];

	function setHistoryFilter(filterType) {
		currentHistoryFilter = filterType;
		currentPage = 1;
		$('.filter-tab').removeClass('active');
		$(`.filter-tab[onclick="setHistoryFilter('${filterType}')"]`).addClass('active');
		renderHistory(true);
	}

	function loadMoreHistory() {
		currentPage++;
		renderHistory(false);
	}

	function handleGuildContribute() {
		const btn = document.querySelector('.btn-contribute');
		if (btn.disabled) {
			showToast('ì´ë¯¸ ì™„ë£Œ', 'ì˜¤ëŠ˜ì˜ ê¸°ì—¬ë¥¼ ì´ë¯¸ ë§ˆì³¤ìŠµë‹ˆë‹¤!', 'warning');
			return;
		}
		btn.innerHTML = 'ê¸°ì—¬ ì¤‘...â³';
		setTimeout(() => {
			btn.innerHTML = 'âœ… ê¸°ì—¬ ì™„ë£Œ! (ë‚´ì¼ ë˜ ë§Œë‚˜ìš”)';
			btn.disabled = true;
			btn.style.background = '#ccc';
			btn.style.color = '#fff';
			showToast('ê¸°ì—¬ ì„±ê³µ!', 'ê¸¸ë“œ ê³µí—Œë„ +10, ê°œì¸ ë‹¬ë€íŠ¸ +20 íšë“!', 'success');
			updateTalent(20);
			$('.guild-mission-card .progress-bar').css('width', '78%');
			$('.guild-mission-card .mission-percent').text('78%');
		}, 1000);
	}

	function sendGuildChat() {
		const $input = $('#guild-chat-input');
		const msg = $input.val().trim();
		if (!msg) return;
		const myName = $('#user-display-name').text();
		const chatHtml = `<div class="mb-5 text-sub" style="animation: fadeIn 0.3s;"><span class="text-bold text-blue" style="margin-right:5px;">${myName}:</span><span>${msg}</span></div>`;
		$('#guild-chat-list').append(chatHtml);
		const chatList = document.getElementById('guild-chat-list');
		chatList.scrollTop = chatList.scrollHeight;
		$input.val('');
	}

	$('#guild-chat-input').on('keypress', function (e) {
		if (e.which === 13) sendGuildChat();
	});

	function initSundayAttendance() {
		const today = new Date();
		const currentYear = today.getFullYear();
		const currentMonth = today.getMonth();
		$('#attendance-date-title').text(`${currentMonth + 1}ì›” ì¶œì„ë¶€`);
		const isSunday = (today.getDay() === 0);
		if (isSunday) {
			$('#sunday-badge').show();
			$('#stamp-guide-msg').html('ì£¼ì¼ ì˜ˆë°°<br>ì™”ì–´ìš”!');
			$('#btn-attendance-check').removeClass('disabled');
		} else {
			$('#sunday-badge').hide();
			$('#stamp-guide-msg').html('ì£¼ì¼(ì¼ìš”ì¼)ì—<br>ë§Œë‚˜ìš”!');
			$('#btn-attendance-check').addClass('disabled');
			$('.stamp-icon-before').attr('src', 'https://cdn-icons-png.flaticon.com/512/2693/2693507.png');
		}
		renderSundayList(currentYear, currentMonth, today);
	}

	function renderSundayList(year, month, todayObj) {
		const $container = $('#sunday-list-container');
		$container.empty();
		let date = new Date(year, month, 1);
		const todayDate = todayObj.getDate();
		while (date.getDay() !== 0) {
			date.setDate(date.getDate() + 1);
		}
		while (date.getMonth() === month) {
			const sundayDate = date.getDate();
			let statusHtml = '';
			let itemClass = 'menu-item sunday-item'; // í´ë˜ìŠ¤ ì‚¬ìš©
			if (sundayDate < todayDate) {
				statusHtml = '<span class="text-bold text-sub">âœ… ì¶œì„ì™„ë£Œ (+100P)</span>';
			} else if (sundayDate === todayDate) {
				itemClass += ' this-week';
				statusHtml = '<span class="text-bold text-red">ğŸ‘‰ ë„ì¥ì„ ì°ì–´ì£¼ì„¸ìš”</span>';
			} else {
				statusHtml = '<span class="text-light">â³ ê¸°ë‹¤ë¦¬ëŠ” ì¤‘</span>';
			}
			// CSS í´ë˜ìŠ¤ë¡œ ëŒ€ì²´í•˜ì—¬ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì œê±°
			const html = `
                <div class="${itemClass}" style="border: 1px solid #f0f0f0; border-radius:12px; padding:15px; cursor:default;">
                    <div class="flex-row gap-15">
                        <div class="flex-col text-center" style="min-width:40px;">
                            <span class="text-light">${month + 1}ì›”</span>
                            <span class="text-bold" style="font-size:1.1rem; color:#444;">${sundayDate}</span>
                        </div>
                        <div class="text-bold text-sub">ì£¼ì¼ ì˜ˆë°°</div>
                    </div>
                    <div>${statusHtml}</div>
                </div>`;
			$container.append(html);
			date.setDate(date.getDate() + 7);
		}
	}

	function handleSundayAttendance() {
		const $btn = $('#btn-attendance-check');
		if ($btn.hasClass('checked')) {
			showToast('ì´ë¯¸ ì™„ë£Œ', 'ì˜¤ëŠ˜ ì¶œì„ì€ ì´ë¯¸ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
			return;
		}
		$btn.addClass('checked');
		$btn.find('.stamp-inner-content').fadeOut(100, function () {
			$btn.find('.stamped-mark').show();
		});
		updateTalent(100);
		setTimeout(() => {
			showAlert('ì£¼ì¼ ì¶œì„ ì™„ë£Œ!', 'í•˜ë‚˜ë‹˜ ë§ì”€ ì•ˆì—ì„œ<br>í–‰ë³µí•œ ì£¼ì¼ ë³´ë‚´ì„¸ìš”! (100P íšë“)', 'ğŸ‰ ì•„ë©˜!');
			showToast('ì¶œì„ ì„±ê³µ', '3ì£¼ ì—°ì† ê°œê·¼ ì¤‘ì…ë‹ˆë‹¤!', 'success');
		}, 400);
	}

	function initQuestPage() {
		const today = new Date();
		const isSunday = (today.getDay() === 0);
		if (isSunday) {
			$('#sunday-lock-overlay').hide();
		} else {
			$('#sunday-lock-overlay').hide();
		}
	}

	function handleQuestClick(btn) {
		const $btn = $(btn);
		const $item = $btn.closest('.q-item');
		const reward = parseInt($item.data('reward'));
		if ($btn.hasClass('state-ready')) {
			$btn.removeClass('state-ready').addClass('state-wait');
			$btn.text('ìŠ¹ì¸ìš”ì²­');
			showToast('ìŠ¹ì¸ ìš”ì²­ ì™„ë£Œ', 'ì„ ìƒë‹˜ê»˜ í™•ì¸ ìš”ì²­ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. (ê°€ìƒ)', 'info');
		} else if ($btn.hasClass('state-wait')) {
			if (!confirm('ì„ ìƒë‹˜(ë¶€ëª¨ë‹˜)ê»˜ ë¯¸ì…˜ ì™„ë£Œë¥¼ í™•ì¸ ë°›ìœ¼ì…¨ë‚˜ìš”?')) return;
			$btn.removeClass('state-wait').addClass('state-done');
			$btn.text('ì™„ë£Œë¨');
			$item.addClass('done');
			updateTalent(reward);
			showAlert('í€˜ìŠ¤íŠ¸ ìŠ¹ì¸ ì™„ë£Œ!', `ì°¸ ì˜í–ˆì–´ìš”! ë³´ìƒìœ¼ë¡œ<br><b>${reward}P</b>ë¥¼ ë°›ì•˜ìŠµë‹ˆë‹¤.`, 'ğŸ‰ ì„±ê³µ');
			showToast('ë³´ìƒ ì§€ê¸‰', `${reward} í¬ì¸íŠ¸ íšë“!`, 'reward');
		} else if ($btn.hasClass('state-done')) {
			showToast('ì´ë¯¸ ì™„ë£Œ', 'ì˜¤ëŠ˜ì˜ ë³´ìƒì„ ì´ë¯¸ ë°›ì•˜ìŠµë‹ˆë‹¤.', 'warning');
		}
	}

	// [ìˆ˜ì •] renderHistory í•¨ìˆ˜ì—ì„œ ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ì œê±° ë° CSS í´ë˜ìŠ¤ ì‚¬ìš©
	function renderHistory(reset = false) {
		const $list = $('#point-history-list');
		const $btnMore = $('#btn-load-more');

		if (reset) {
			$list.empty();
			if (currentHistoryFilter === 'all') filteredData = historyData;
			else filteredData = historyData.filter(item => item.type === currentHistoryFilter);
		}

		const startIndex = (currentPage - 1) * itemsPerPage;
		const endIndex = startIndex + itemsPerPage;
		const pageData = filteredData.slice(startIndex, endIndex);

		if (filteredData.length === 0) {
			$list.html('<div class="empty-history text-light">ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤. í……! ğŸ—‘ï¸</div>');
			$btnMore.hide();
			return;
		}

		let lastDate = null;
		if (!reset && $('.history-date-header').last().length > 0) {
			lastDate = $('.history-date-header').last().data('date');
		}

		pageData.forEach(item => {
			if (item.date !== lastDate) {
				$list.append(`<div class="history-date-header" data-date="${item.date}">${item.date}</div>`);
				lastDate = item.date;
			}

			const isPlus = item.amount > 0;
			const colorClass = isPlus ? 'text-blue' : 'text-red';
			const amountStr = (isPlus ? '+' : '') + item.amount.toLocaleString();
			const iconChar = categoryIcons[item.category] || categoryIcons.default;

			// HTML ìƒì„± ë¶€ë¶„ ìµœì í™” (ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ì‚¬ìš©)
			const html = `
                <div class="menu-item" style="cursor: default;">
                    <div class="flex-row">
                        <div class="flex-center" style="width: 40px; height: 40px; background: #F8F9FA; border-radius: 12px; font-size: 1.2rem; margin-right: 12px;">
                            ${iconChar}
                        </div>
                        <div class="flex-col">
                            <span class="text-bold" style="font-size: 0.9rem; color:#333;">${item.title}</span>
                            <small class="text-light">${item.category === 'shop' ? 'ì‚¬ìš© ì™„ë£Œ' : 'ì§€ê¸‰ ì™„ë£Œ'}</small>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="${colorClass} text-bold" style="font-size: 1rem;">${amountStr}</div>
                        ${item.balance ? `<small class="text-light">ì”ì•¡ ${item.balance.toLocaleString()}</small>` : ''}
                    </div>
                </div>
            `;
			$list.append(html);
		});

		if (endIndex >= filteredData.length) {
			$btnMore.hide();
		} else {
			$btnMore.show();
			$btnMore.text(`ğŸ‘‡ ë” ë³´ê¸° (${filteredData.length - endIndex}ê°œ)`);
		}
	}
</script>
</body>
</html>