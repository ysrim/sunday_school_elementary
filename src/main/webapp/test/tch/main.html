<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì„ ìƒë‹˜ ëª¨ë“œ - RPG ê´€ë¦¬ì</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f6f7f9; /* PayPal ìŠ¤íƒ€ì¼ ë°°ê²½ */
            color: #1a1f36;
            -webkit-tap-highlight-color: transparent;
        }

        .hidden-section { display: none; }
        .hidden { display: none !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }

        /* PayPal ìŠ¤íƒ€ì¼ í™”ì´íŠ¸ ì¹´ë“œ */
        .app-card {
            background: #ffffff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* ë©”ì¸ ë¸”ë£¨ ê·¸ë¼ë°ì´ì…˜ ì¹´ë“œ */
        .hero-card {
            background: linear-gradient(135deg, #003087 0%, #0070BA 100%);
            color: white;
            box-shadow: 0 10px 25px -5px rgba(0, 48, 135, 0.3);
        }

        /* ì¹© ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ì›”/ì£¼ì°¨ ì„ íƒ) */
        .chip {
            transition: all 0.2s;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
            white-space: nowrap;
        }
        .chip.active {
            background-color: #003087;
            color: white;
            border-color: #003087;
            box-shadow: 0 4px 10px rgba(0, 48, 135, 0.2);
        }
        .chip:not(.active) {
            background-color: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        /* í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë„í¬ */
        .nav-dock {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 -4px 20px rgba(0,0,0,0.04);
            padding-bottom: env(safe-area-inset-bottom);
        }
        .nav-item { color: #94a3b8; transition: all 0.3s; }
        .nav-item.active { color: #003087; }
        .nav-item.active span { font-weight: 800; }

        /* ì• ë‹ˆë©”ì´ì…˜ */
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        .animate-slide-up { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ì…ë ¥ì°½ */
        .clean-input {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            transition: all 0.2s;
        }
        .clean-input:focus {
            background: white;
            border-color: #0070BA;
            box-shadow: 0 0 0 3px rgba(0, 112, 186, 0.1);
            outline: none;
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

<header class="fixed top-0 left-0 right-0 z-40 bg-[#f6f7f9]/90 backdrop-blur-md">
    <div class="px-6 py-4 flex justify-between items-center">
        <h1 class="text-lg font-extrabold text-[#003087] flex items-center italic">
                <span class="bg-[#003087] text-white p-1.5 rounded-lg mr-2 text-xs not-italic shadow-lg">
                    <i class="fas fa-user-shield"></i>
                </span>
            TEACHER MODE
        </h1>
        <div class="flex gap-2">
            <button onclick="logout()" class="w-10 h-10 rounded-full bg-red-50 text-red-500 hover:bg-red-100 transition flex items-center justify-center border border-red-100">
                <i class="fas fa-power-off text-sm"></i>
            </button>
            <button onclick="toggleSettings(true)" class="w-10 h-10 rounded-full bg-white text-slate-400 shadow-sm flex items-center justify-center border border-slate-200">
                <i class="fas fa-cog"></i>
            </button>
        </div>
    </div>
</header>

<main id="main-content" class="flex-1 overflow-y-auto px-6 pt-24 pb-32 space-y-6 no-scrollbar">

    <section id="tab-home" class="section-content animate-slide-up">
        <div class="hero-card rounded-[2.5rem] p-7 relative overflow-hidden mb-6">
            <div class="absolute -right-10 -top-10 w-40 h-40 bg-white opacity-10 rounded-full blur-3xl"></div>
            <div class="relative z-10">
                <p class="text-blue-100 text-xs font-bold bg-white/10 inline-block px-3 py-1 rounded-full mb-2">ğŸ“… 1ì›” 4ì£¼ì°¨</p>
                <h2 class="text-2xl font-black mb-6">ë¯¿ìŒë°˜ í˜„í™©</h2>
                <div class="bg-black/10 rounded-2xl p-4 backdrop-blur-md flex justify-between text-center border border-white/10">
                    <div class="flex-1">
                        <div class="text-2xl font-black">18</div>
                        <div class="text-[10px] text-blue-100 mt-1 uppercase tracking-tighter">ì¶œì„ì™„ë£Œ</div>
                    </div>
                    <div class="flex-1 border-x border-white/10">
                        <div class="text-2xl font-black text-yellow-300">3</div>
                        <div class="text-[10px] text-blue-100 mt-1 uppercase tracking-tighter">ìŠ¹ì¸ëŒ€ê¸°</div>
                    </div>
                    <div class="flex-1">
                        <div class="text-2xl font-black text-cyan-300">85%</div>
                        <div class="text-[10px] text-blue-100 mt-1 uppercase tracking-tighter">ì°¸ì—¬ìœ¨</div>
                    </div>
                </div>
            </div>
        </div>

        <div>
            <h3 class="font-bold text-slate-800 text-lg mb-4 flex items-center px-1">
                <i class="fas fa-comments text-[#0070BA] mr-2"></i> ê¸¸ë“œ ì‘ì›ë°©
            </h3>

            <div class="app-card p-5 space-y-4">
                <div id="chat-list" class="space-y-4 max-h-56 overflow-y-auto pr-1 no-scrollbar">
                    <div class="flex gap-3 items-start group chat-message">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-10 h-10 rounded-full bg-slate-100 border border-slate-200 shrink-0">
                        <div class="flex-1">
                            <div class="flex justify-between items-center mb-1">
                                <span class="font-bold text-slate-800 text-sm">ê¹€ìš©ì‚¬</span>
                                <span class="text-[10px] text-slate-400">10:42 AM</span>
                            </div>
                            <div class="flex items-end gap-2">
                                <div class="bg-slate-50 p-3 rounded-2xl rounded-tl-none text-sm text-slate-600 border border-slate-100">
                                    ì„ ìƒë‹˜ ì˜¤ëŠ˜ ê°„ì‹ ë­ì˜ˆìš”? ë¹¨ë¦¬ ê°€ê³  ì‹¶ì–´ìš”! ğŸ–
                                </div>
                                <button onclick="deleteMessage(this)" class="text-slate-300 hover:text-red-400 transition opacity-0 group-hover:opacity-100 p-1.5">
                                    <i class="fas fa-trash-alt text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="pt-2 border-t border-slate-50">
                    <form onsubmit="event.preventDefault(); sendMessage();" class="relative">
                        <input id="chat-input" type="text" placeholder="ìš©ì‚¬ë“¤ì—ê²Œ ë©”ì‹œì§€ ë³´ë‚´ê¸°..." class="w-full clean-input rounded-full pl-5 pr-14 py-3.5 text-sm">
                        <button type="submit" class="absolute right-1.5 top-1.5 w-10 h-10 bg-[#003087] text-white rounded-full flex items-center justify-center shadow-lg transform active:scale-90 transition">
                            <i class="fas fa-arrow-up text-sm"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="tab-attendance" class="section-content hidden-section">
        <h2 class="text-2xl font-black text-slate-800 mb-5 px-1">ì¶œì„ë¶€ ê´€ë¦¬</h2>

        <div class="flex gap-2 mb-4 overflow-x-auto no-scrollbar pb-1" id="month-container">
            <button onclick="selectMonth(this)" class="chip active px-5 py-2.5">1ì›”</button>
            <button onclick="selectMonth(this)" class="chip px-5 py-2.5">2ì›”</button>
            <button onclick="selectMonth(this)" class="chip px-5 py-2.5">3ì›”</button>
            <button onclick="selectMonth(this)" class="chip px-5 py-2.5">4ì›”</button>
            <button onclick="selectMonth(this)" class="chip px-5 py-2.5">5ì›”</button>
        </div>

        <div class="grid grid-cols-4 gap-2 mb-6" id="week-container">
            <button onclick="selectWeek(this)" class="chip py-3 text-center text-xs leading-tight">1/7<br>1ì£¼</button>
            <button onclick="selectWeek(this)" class="chip py-3 text-center text-xs leading-tight">1/14<br>2ì£¼</button>
            <button onclick="selectWeek(this)" class="chip py-3 text-center text-xs leading-tight">1/21<br>3ì£¼</button>
            <button onclick="selectWeek(this)" class="chip active py-3 text-center text-xs leading-tight">1/28<br>4ì£¼</button>
        </div>

        <div class="flex bg-slate-100 p-1 rounded-2xl mb-6">
            <button id="btn-att-pending" onclick="switchAttList('pending')" class="flex-1 py-3 rounded-xl text-sm font-bold bg-[#003087] text-white shadow-md transition">ìŠ¹ì¸ ëŒ€ê¸° (2)</button>
            <button id="btn-att-complete" onclick="switchAttList('complete')" class="flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 transition">ì¶œì„ ì™„ë£Œ</button>
        </div>

        <div id="list-att-pending" class="space-y-3">
            <div class="app-card p-4 flex items-center justify-between row-item">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-[#003087]/5 rounded-full flex items-center justify-center font-bold text-[#003087] text-lg border border-[#003087]/10">ê¹€</div>
                    <div>
                        <div class="font-bold text-slate-800">ê¹€ì² ìˆ˜ <span class="text-[10px] bg-red-50 text-red-500 px-2 py-0.5 rounded-full ml-1 font-bold">ë¯¸ìŠ¹ì¸</span></div>
                        <div class="text-xs text-slate-400 mt-1 flex items-center"><i class="far fa-clock mr-1"></i> 09:40 QRìš”ì²­</div>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button onclick="handleAction(this, 'reject')" class="w-10 h-10 rounded-full bg-slate-50 text-slate-400 hover:bg-red-50 hover:text-red-500 flex items-center justify-center transition"><i class="fas fa-times"></i></button>
                    <button onclick="handleAction(this, 'approve')" class="w-10 h-10 rounded-full bg-[#003087] text-white shadow-lg flex items-center justify-center transition"><i class="fas fa-check"></i></button>
                </div>
            </div>
        </div>

        <div id="list-att-complete" class="space-y-3 hidden">
            <div class="app-card p-4 flex items-center justify-between opacity-70">
                <div class="flex items-center gap-4">
                    <div class="w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center font-bold text-slate-400 text-lg border border-slate-100">ë°•</div>
                    <div>
                        <div class="font-bold text-slate-400">ë°•ì„±ì‹¤</div>
                        <div class="text-xs text-[#0070BA] mt-1 font-bold">ìŠ¹ì¸ì™„ë£Œ (09:10)</div>
                    </div>
                </div>
                <div class="w-10 h-10 rounded-full bg-blue-50 text-[#0070BA] flex items-center justify-center border border-blue-100">
                    <i class="fas fa-check"></i>
                </div>
            </div>
        </div>
    </section>

    <section id="tab-quest" class="section-content hidden-section">
        <h2 class="text-2xl font-black text-slate-800 mb-5 px-1">í€˜ìŠ¤íŠ¸ ìŠ¹ì¸</h2>
        <div class="flex gap-2 mb-6 overflow-x-auto no-scrollbar">
            <button onclick="filterQuest('all')" id="btn-all" class="chip active px-5 py-2.5">ì „ì²´</button>
            <button onclick="filterQuest('daily')" id="btn-daily" class="chip px-5 py-2.5">ì¼ì¼</button>
            <button onclick="filterQuest('sunday')" id="btn-sunday" class="chip px-5 py-2.5">ì£¼ì¼</button>
            <button onclick="filterQuest('special')" id="btn-special" class="chip px-5 py-2.5">íŠ¹ë³„</button>
        </div>

        <div id="quest-list" class="space-y-4">
            <div class="quest-item app-card p-5 flex flex-col" data-type="daily">
                <div class="flex justify-between items-start mb-4">
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="bg-blue-50 text-[#0070BA] text-[10px] px-2 py-0.5 rounded-full font-bold border border-blue-100">ì¼ì¼</span>
                            <span class="text-[10px] text-slate-400 font-mono">2024.01.26</span>
                        </div>
                        <h3 class="font-bold text-slate-800 text-base mb-1">ì„±ê²½ 1ì¥ ì½ê¸°</h3>
                        <div class="flex items-center gap-2 text-xs text-slate-500">
                            <i class="fas fa-user-circle"></i> ê¹€ìš©ì‚¬
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-bold text-amber-600 bg-amber-50 px-3 py-1 rounded-lg border border-amber-100">500 G</div>
                    </div>
                </div>
                <div class="flex gap-2">
                    <button onclick="handleAction(this, 'reject')" class="flex-1 py-3 rounded-xl bg-slate-50 text-slate-500 text-xs font-bold hover:bg-red-50 transition">ë°˜ë ¤</button>
                    <button onclick="handleAction(this, 'approve')" class="flex-1 py-3 rounded-xl bg-[#003087] text-white text-xs font-bold shadow-lg hover:bg-blue-800 transition">ë³´ìƒ ì§€ê¸‰</button>
                </div>
            </div>
        </div>

        <div id="quest-empty" class="hidden flex flex-col items-center justify-center py-16 animate-fade-in">
            <div class="w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mb-4 text-slate-300">
                <i class="fas fa-inbox text-3xl"></i>
            </div>
            <p class="text-slate-500 font-bold">ìš”ì²­ëœ í€˜ìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        </div>
    </section>

    <section id="tab-guild" class="section-content hidden-section">
        <h2 class="text-2xl font-black text-slate-800 mb-5 px-1">ê¸¸ë“œì› ëª…ë‹¨</h2>
        <div class="app-card overflow-hidden">
            <div class="bg-slate-50/80 border-b border-slate-100 p-4 grid grid-cols-12 gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                <div class="col-span-6">Member / Job</div>
                <div class="col-span-2 text-center">LV</div>
                <div class="col-span-4 text-right">Gold</div>
            </div>
            <div class="divide-y divide-slate-50">
                <div class="p-4 grid grid-cols-12 gap-2 items-center hover:bg-slate-50 transition cursor-pointer">
                    <div class="col-span-6 flex items-center gap-3">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-10 h-10 rounded-full bg-slate-100 border border-slate-100">
                        <div>
                            <div class="font-bold text-slate-800 text-sm">ê¹€ìš©ì‚¬</div>
                            <div class="text-[10px] text-[#0070BA] font-bold">ì „ì‚¬ (Warrior)</div>
                        </div>
                    </div>
                    <div class="col-span-2 text-center">
                        <span class="bg-blue-50 text-[#003087] text-[10px] px-2 py-0.5 rounded-md font-black border border-blue-100">10</span>
                    </div>
                    <div class="col-span-4 text-right text-sm font-black text-amber-600">1,200 <span class="text-[10px]">G</span></div>
                </div>
            </div>
        </div>
    </section>

</main>

<nav class="nav-dock fixed bottom-0 left-0 right-0 z-50 border-t border-slate-100">
    <div class="flex justify-around items-center h-20 px-4">
        <button onclick="switchTab('home')" class="nav-item active flex-1 flex flex-col items-center justify-center gap-1 transition-all">
            <i class="fas fa-home text-xl"></i>
            <span class="text-[10px]">í™ˆ</span>
        </button>
        <button onclick="switchTab('attendance')" class="nav-item flex-1 flex flex-col items-center justify-center gap-1 transition-all relative">
            <i class="far fa-id-card text-xl"></i>
            <span class="text-[10px]">ì¶œì„ë¶€</span>
            <span class="absolute top-2 right-6 w-2 h-2 bg-red-500 rounded-full border-2 border-white"></span>
        </button>
        <button onclick="switchTab('quest')" class="nav-item flex-1 flex flex-col items-center justify-center gap-1 transition-all relative">
            <i class="far fa-check-circle text-xl"></i>
            <span class="text-[10px]">í€˜ìŠ¤íŠ¸</span>
            <span class="absolute top-1 right-5 bg-red-500 text-white text-[9px] px-1.5 rounded-full font-bold border-2 border-white">2</span>
        </button>
        <button onclick="switchTab('guild')" class="nav-item flex-1 flex flex-col items-center justify-center gap-1 transition-all">
            <i class="far fa-user-circle text-xl"></i>
            <span class="text-[10px]">ê¸¸ë“œì›</span>
        </button>
    </div>
</nav>

<div id="settings-modal" class="fixed inset-0 z-50 bg-black/40 backdrop-blur-sm hidden flex flex-col animate-fade-in">
    <div class="mt-auto bg-white rounded-t-[2.5rem] p-8 space-y-8 animate-slide-up shadow-2xl">
        <div class="flex justify-between items-center">
            <h2 class="text-xl font-black text-slate-800">ì„¤ì •</h2>
            <button onclick="toggleSettings(false)" class="w-10 h-10 rounded-full bg-slate-100 text-slate-400 flex items-center justify-center"><i class="fas fa-times"></i></button>
        </div>

        <div class="app-card p-5 flex items-center gap-4 bg-slate-50 border-none shadow-none">
            <div class="w-16 h-16 rounded-full bg-[#003087] flex items-center justify-center text-white text-2xl shadow-lg shadow-blue-900/20"><i class="fas fa-user-tie"></i></div>
            <div>
                <div class="font-black text-slate-800 text-lg leading-tight">ê¹€ì„ ìƒë‹˜</div>
                <div class="text-xs text-slate-400 mt-1 uppercase font-bold tracking-widest">Master Admin</div>
            </div>
        </div>

        <div class="space-y-4">
            <h3 class="font-bold text-slate-800 text-sm mb-2 flex items-center"><i class="fas fa-lock text-[#0070BA] mr-2"></i> ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
            <input type="password" id="new-pw" oninput="checkPasswordStrength(); checkPasswordMatch();" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸" class="w-full clean-input px-5 py-4 rounded-2xl text-sm outline-none">
            <div class="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
                <div id="pw-strength-bar" class="h-full w-0 bg-red-500 transition-all duration-300"></div>
            </div>
            <input type="password" id="confirm-pw" oninput="checkPasswordMatch()" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" class="w-full clean-input px-5 py-4 rounded-2xl text-sm outline-none">
            <p id="pw-match-text" class="text-[10px] text-right h-2 font-bold"></p>

            <button class="w-full py-4 bg-[#003087] text-white rounded-2xl font-black text-sm shadow-xl shadow-blue-900/20 hover:bg-blue-800 transition uppercase">Update Security</button>
        </div>

        <div class="text-center pt-2 pb-4">
            <button onclick="logout()" class="text-red-500 text-xs font-bold uppercase tracking-widest hover:underline decoration-2 underline-offset-8">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>
</div>

<script>
    // [ê¸°ì¡´ ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ ì™„ë²½ ìœ ì§€]

    function switchTab(tabName) {
        document.querySelectorAll('.section-content').forEach(el => el.classList.add('hidden-section'));
        document.getElementById('tab-' + tabName).classList.remove('hidden-section');

        document.querySelectorAll('.nav-item').forEach(el => {
            el.classList.remove('active');
            // ì•„ì´ì½˜ Regular/Solid ì „í™˜
            const icon = el.querySelector('i');
            if(icon) icon.className = icon.className.replace('fas', 'far');
        });

        const activeBtn = document.querySelector(`button[onclick="switchTab('${tabName}')"]`);
        if(activeBtn) {
            activeBtn.classList.add('active');
            const icon = activeBtn.querySelector('i');
            if(icon) icon.className = icon.className.replace('far', 'fas');
        }
        document.getElementById('main-content').scrollTop = 0;
    }

    function switchAttList(type) {
        const btnPending = document.getElementById('btn-att-pending');
        const btnComplete = document.getElementById('btn-att-complete');
        const listPending = document.getElementById('list-att-pending');
        const listComplete = document.getElementById('list-att-complete');

        if (type === 'pending') {
            btnPending.className = "flex-1 py-3 rounded-xl text-sm font-bold bg-[#003087] text-white shadow-md transition";
            btnComplete.className = "flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 transition";
            listPending.classList.remove('hidden');
            listComplete.classList.add('hidden');
        } else {
            btnComplete.className = "flex-1 py-3 rounded-xl text-sm font-bold bg-[#003087] text-white shadow-md transition";
            btnPending.className = "flex-1 py-3 rounded-xl text-sm font-bold text-slate-500 transition";
            listComplete.classList.remove('hidden');
            listPending.classList.add('hidden');
        }
    }

    function filterQuest(type) {
        document.querySelectorAll('#tab-quest .chip').forEach(btn => btn.classList.remove('active'));
        document.getElementById('btn-' + type).classList.add('active');

        const listArea = document.getElementById('quest-list');
        const items = document.querySelectorAll('.quest-item');
        const emptyArea = document.getElementById('quest-empty');

        let visibleCount = 0;
        items.forEach(item => {
            if (type === 'all' || item.getAttribute('data-type') === type) {
                item.classList.remove('hidden');
                visibleCount++;
            } else {
                item.classList.add('hidden');
            }
        });

        if (visibleCount > 0) { listArea.classList.remove('hidden'); emptyArea.classList.add('hidden'); }
        else { listArea.classList.add('hidden'); emptyArea.classList.remove('hidden'); }
    }

    function sendMessage() {
        const input = document.getElementById('chat-input');
        if (!input.value.trim()) return;

        const chatList = document.getElementById('chat-list');
        const msgDiv = document.createElement('div');
        msgDiv.className = 'flex gap-3 items-start flex-row-reverse animate-slide-up chat-message';
        msgDiv.innerHTML = `
                <div class="w-10 h-10 rounded-full bg-[#003087] flex items-center justify-center text-white text-xs shrink-0 shadow-lg"><i class="fas fa-user-tie"></i></div>
                <div class="flex-1 text-right">
                    <div class="flex justify-end items-center mb-1 gap-2"><span class="text-[10px] text-slate-400">ë°©ê¸ˆ ì „</span><span class="font-bold text-slate-800 text-sm">ê¹€ì„ ìƒë‹˜</span></div>
                    <div class="flex items-end gap-2 justify-end">
                        <button onclick="deleteMessage(this)" class="text-slate-300 hover:text-red-400 transition opacity-0 group-hover:opacity-100 p-1.5"><i class="fas fa-trash-alt text-xs"></i></button>
                        <div class="bg-[#003087] text-white p-3 rounded-2xl rounded-tr-none text-sm text-left shadow-md">${input.value}</div>
                    </div>
                </div>
            `;
        chatList.appendChild(msgDiv);
        input.value = '';
        chatList.scrollTop = chatList.scrollHeight;
    }

    function deleteMessage(btn) { if(confirm('ë©”ì‹œì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) btn.closest('.chat-message').remove(); }

    function handleAction(btn, type) {
        const row = btn.closest('.app-card');
        if (type === 'approve') {
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            setTimeout(() => {
                row.style.opacity = '0';
                row.style.transform = 'translateX(50px)';
                setTimeout(() => row.remove(), 300);
            }, 600);
        } else {
            row.classList.add('opacity-40');
            alert('ë°˜ë ¤ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
    }

    function selectMonth(btn) {
        document.querySelectorAll('#month-container .chip').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
    }

    function selectWeek(btn) {
        document.querySelectorAll('#week-container .chip').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
    }

    function checkPasswordStrength() {
        const pw = document.getElementById('new-pw').value;
        const bar = document.getElementById('pw-strength-bar');
        let score = 0;
        if (pw.length >= 8) score++;
        if (/[0-9]/.test(pw)) score++;
        if (/[^A-Za-z0-9]/.test(pw)) score++;

        const colors = ['#f1f5f9', '#ef4444', '#f59e0b', '#10b981'];
        const widths = ['0%', '33%', '66%', '100%'];
        bar.style.width = widths[score];
        bar.style.backgroundColor = colors[score];
    }

    function checkPasswordMatch() {
        const pw1 = document.getElementById('new-pw').value;
        const pw2 = document.getElementById('confirm-pw').value;
        const text = document.getElementById('pw-match-text');
        if (!pw2) { text.innerText = ''; return; }
        if (pw1 === pw2) { text.innerText = 'ì¼ì¹˜í•¨'; text.className = 'text-[10px] text-green-500 text-right font-bold'; }
        else { text.innerText = 'ì¼ì¹˜í•˜ì§€ ì•ŠìŒ'; text.className = 'text-[10px] text-red-500 text-right font-bold'; }
    }

    function toggleSettings(show) { document.getElementById('settings-modal').classList.toggle('hidden', !show); }
    function logout() { if(confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) location.href = 'index.html'; }
</script>
</body>
</html>