<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ì„ ìƒë‹˜ ëª¨ë“œ - RPG ê´€ë¦¬ì</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');
        body { font-family: 'Noto Sans KR', sans-serif; }
        
        .hidden-section { display: none; }
        .hidden { display: none !important; }
        
        .nav-item.active {
            color: #0ea5e9;
            transform: translateY(-2px);
        }
        .nav-item.active i { 
            filter: drop-shadow(0 4px 6px rgba(14, 165, 233, 0.3));
        }
        
        .quest-tab.active {
            background-color: #0ea5e9;
            color: white;
            border-color: #0ea5e9;
            box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.3);
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .month-chip.active {
            background-color: #1e293b;
            color: white;
            font-weight: bold;
            border-color: #1e293b;
        }
        .month-chip:not(.active) {
            background-color: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }

        .week-chip.active {
            background-color: #0ea5e9;
            color: white;
            border-color: #0ea5e9;
            font-weight: bold;
            box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.3);
        }
        .week-chip:not(.active) {
            background-color: white;
            color: #64748b;
            border: 1px solid #e2e8f0;
        }
        
        .btn-action { transition: all 0.2s; }
        .btn-action.disabled {
            background-color: #f1f5f9;
            color: #cbd5e1;
            cursor: not-allowed;
            pointer-events: none;
            box-shadow: none;
        }
        
        .animate-fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }
        
        .animate-slide-up { animation: slideUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden bg-[#F0F4F8]">

    <header class="absolute top-0 left-0 right-0 z-20 px-4 pt-4 pb-2">
        <div class="bg-white/80 backdrop-blur-md rounded-2xl shadow-sm border border-white/60 px-5 py-3 flex justify-between items-center">
            <h1 class="text-lg font-extrabold text-slate-700 flex items-center">
                <span class="bg-indigo-100 text-indigo-500 p-1.5 rounded-lg mr-2 text-xs">
                    <i class="fas fa-user-shield"></i>
                </span>
                Teacher Mode
            </h1>
            <div class="flex gap-2">
                <button onclick="logout()" class="w-9 h-9 rounded-full bg-red-50 text-red-400 hover:bg-red-500 hover:text-white transition flex items-center justify-center border border-red-100">
                    <i class="fas fa-power-off text-xs"></i>
                </button>
                <button onclick="toggleSettings(true)" class="w-9 h-9 rounded-full bg-slate-50 text-slate-400 hover:text-sky-500 hover:bg-sky-50 transition flex items-center justify-center border border-slate-100">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </div>
    </header>

    <main id="main-content" class="flex-1 overflow-y-auto px-5 pt-24 pb-32 space-y-6 scroll-smooth">
        
        <section id="tab-home" class="section-content">
            <div class="bg-gradient-to-br from-indigo-500 to-violet-600 text-white rounded-3xl p-6 shadow-xl shadow-indigo-200/50 relative overflow-hidden mb-6">
                <div class="absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full blur-2xl -mr-10 -mt-10"></div>
                <div class="relative z-10">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <p class="text-indigo-100 text-xs font-medium bg-white/20 inline-block px-2 py-1 rounded-lg mb-1">ğŸ“… 1ì›” 4ì£¼ì°¨</p>
                            <h2 class="text-2xl font-bold">ë¯¿ìŒë°˜ í˜„í™©</h2>
                        </div>
                    </div>
                    <div class="bg-white/10 rounded-2xl p-4 backdrop-blur-sm flex justify-between text-center divide-x divide-white/20">
                        <div class="flex-1 px-2">
                            <div class="text-2xl font-bold">18</div>
                            <div class="text-[10px] text-indigo-100 mt-1">ì¶œì„ì™„ë£Œ</div>
                        </div>
                        <div class="flex-1 px-2">
                            <div class="text-2xl font-bold text-yellow-300">3</div>
                            <div class="text-[10px] text-indigo-100 mt-1">ìŠ¹ì¸ëŒ€ê¸°</div>
                        </div>
                        <div class="flex-1 px-2">
                            <div class="text-2xl font-bold">85%</div>
                            <div class="text-[10px] text-indigo-100 mt-1">ì°¸ì—¬ìœ¨</div>
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <div class="flex justify-between items-center mb-3 px-1">
                    <h3 class="font-bold text-slate-700 text-lg flex items-center">
                        <i class="fas fa-comments text-amber-500 mr-2"></i> ê¸¸ë“œ ì‘ì›ë°©
                    </h3>
                </div>
                
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 p-4 space-y-4">
                    <div id="chat-list" class="space-y-4 max-h-48 overflow-y-auto pr-1 pb-2">
                        <div class="flex gap-3 items-start group chat-message">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-8 h-8 rounded-xl bg-slate-100 shrink-0">
                            <div class="flex-1 min-w-0">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-slate-800 text-sm">ê¹€ìš©ì‚¬</span>
                                    <span class="text-[10px] text-slate-400">10:42 AM</span>
                                </div>
                                <div class="flex items-end gap-2">
                                    <div class="bg-slate-50 p-2.5 rounded-r-xl rounded-bl-xl text-sm text-slate-600 inline-block">
                                        ì„ ìƒë‹˜ ì˜¤ëŠ˜ ê°„ì‹ ë­ì˜ˆìš”? ë¹¨ë¦¬ ê°€ê³  ì‹¶ì–´ìš”!
                                    </div>
                                    <button onclick="deleteMessage(this)" class="text-slate-300 hover:text-red-500 transition opacity-0 group-hover:opacity-100 p-1.5" title="ì‚­ì œ">
                                        <i class="fas fa-trash-alt text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex gap-3 items-start group chat-message">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Annie" class="w-8 h-8 rounded-xl bg-slate-100 shrink-0">
                            <div class="flex-1 min-w-0">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="font-bold text-slate-800 text-sm">ì´ë§ˆë²•</span>
                                    <span class="text-[10px] text-slate-400">09:15 AM</span>
                                </div>
                                <div class="flex items-end gap-2">
                                    <div class="bg-slate-50 p-2.5 rounded-r-xl rounded-bl-xl text-sm text-slate-600 inline-block">
                                        ìš°ë¦¬ ë°˜ ì´ë²ˆ ì£¼ì— 1ë“± í•´ìš”!! í™”ì´íŒ…!
                                    </div>
                                    <button onclick="deleteMessage(this)" class="text-slate-300 hover:text-red-500 transition opacity-0 group-hover:opacity-100 p-1.5" title="ì‚­ì œ">
                                        <i class="fas fa-trash-alt text-sm"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pt-2 border-t border-slate-100">
                        <form onsubmit="event.preventDefault(); sendMessage();" class="relative flex items-center">
                            <input id="chat-input" type="text" placeholder="ì‘ì› ë©”ì‹œì§€ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”..." class="w-full bg-slate-50 border border-slate-200 rounded-full pl-4 pr-12 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-sky-500 transition">
                            <button type="submit" class="absolute right-1 top-1 w-8 h-8 bg-sky-500 text-white rounded-full flex items-center justify-center hover:bg-sky-600 transition shadow-sm transform active:scale-90">
                                <i class="fas fa-paper-plane text-xs"></i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </section>

        <section id="tab-attendance" class="section-content hidden-section">
            <div class="sticky top-0 bg-[#F0F4F8] z-10 pb-4">
                <h2 class="text-xl font-bold text-slate-800 mb-3 px-1">ì¶œì„ë¶€ ê´€ë¦¬</h2>
                
                <div class="flex gap-2 mb-3 overflow-x-auto no-scrollbar pb-1" id="month-container">
                    <button onclick="selectMonth(this)" class="month-chip active shrink-0 px-4 py-1.5 rounded-full text-sm">1ì›”</button>
                    <button onclick="selectMonth(this)" class="month-chip shrink-0 px-4 py-1.5 rounded-full text-sm">2ì›”</button>
                    <button onclick="selectMonth(this)" class="month-chip shrink-0 px-4 py-1.5 rounded-full text-sm">3ì›”</button>
                    <button onclick="selectMonth(this)" class="month-chip shrink-0 px-4 py-1.5 rounded-full text-sm">4ì›”</button>
                    <button onclick="selectMonth(this)" class="month-chip shrink-0 px-4 py-1.5 rounded-full text-sm">5ì›”</button>
                </div>

                <div class="grid grid-cols-4 gap-2 mb-4" id="week-container">
                    <button onclick="selectWeek(this)" class="week-chip px-1 py-2 rounded-xl text-xs">1/7<br>(1ì£¼)</button>
                    <button onclick="selectWeek(this)" class="week-chip px-1 py-2 rounded-xl text-xs">1/14<br>(2ì£¼)</button>
                    <button onclick="selectWeek(this)" class="week-chip px-1 py-2 rounded-xl text-xs">1/21<br>(3ì£¼)</button>
                    <button onclick="selectWeek(this)" class="week-chip active px-1 py-2 rounded-xl text-xs">1/28<br>(4ì£¼)</button>
                </div>

                <div class="flex bg-slate-200/50 p-1 rounded-xl">
                    <button id="btn-att-pending" onclick="switchAttList('pending')" class="flex-1 py-2 rounded-lg text-sm font-bold bg-white text-slate-800 shadow-sm transition">ìŠ¹ì¸ ëŒ€ê¸° (2)</button>
                    <button id="btn-att-complete" onclick="switchAttList('complete')" class="flex-1 py-2 rounded-lg text-sm font-bold text-slate-400 hover:text-slate-600 transition">ì™„ë£Œ (18)</button>
                </div>
            </div>

            <div id="list-att-pending" class="space-y-3">
                <div class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm row-item">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-sky-50 rounded-2xl flex items-center justify-center font-bold text-sky-500 text-lg">ê¹€</div>
                        <div>
                            <div class="font-bold text-slate-800">ê¹€ì² ìˆ˜ <span class="text-[10px] bg-red-100 text-red-500 px-1.5 py-0.5 rounded ml-1">ë¯¸ìŠ¹ì¸</span></div>
                            <div class="text-xs text-slate-400 mt-1 flex items-center"><i class="far fa-clock mr-1"></i> 09:40 QRìš”ì²­</div>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="handleAction(this, 'reject')" class="btn-action w-9 h-9 rounded-full bg-slate-50 text-slate-400 hover:bg-red-50 hover:text-red-500 flex items-center justify-center"><i class="fas fa-times"></i></button>
                        <button onclick="handleAction(this, 'approve')" class="btn-action w-9 h-9 rounded-full bg-sky-500 text-white shadow-md shadow-sky-200 hover:bg-sky-600 flex items-center justify-center"><i class="fas fa-check"></i></button>
                    </div>
                </div>

                <div class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm row-item">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-purple-50 rounded-2xl flex items-center justify-center font-bold text-purple-500 text-lg">ì´</div>
                        <div>
                            <div class="font-bold text-slate-800">ì´ì˜í¬ <span class="text-[10px] bg-red-100 text-red-500 px-1.5 py-0.5 rounded ml-1">ë¯¸ìŠ¹ì¸</span></div>
                            <div class="text-xs text-slate-400 mt-1 flex items-center"><i class="far fa-clock mr-1"></i> 09:42 QRìš”ì²­</div>
                        </div>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="handleAction(this, 'reject')" class="btn-action w-9 h-9 rounded-full bg-slate-50 text-slate-400 hover:bg-red-50 hover:text-red-500 flex items-center justify-center"><i class="fas fa-times"></i></button>
                        <button onclick="handleAction(this, 'approve')" class="btn-action w-9 h-9 rounded-full bg-sky-500 text-white shadow-md shadow-sky-200 hover:bg-sky-600 flex items-center justify-center"><i class="fas fa-check"></i></button>
                    </div>
                </div>
            </div>

            <div id="list-att-complete" class="space-y-3 hidden">
                <div class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm opacity-70">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center font-bold text-slate-400 text-lg">ë°•</div>
                        <div>
                            <div class="font-bold text-slate-600">ë°•ì„±ì‹¤</div>
                            <div class="text-xs text-sky-500 mt-1 font-bold">ìŠ¹ì¸ì™„ë£Œ (09:10)</div>
                        </div>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-sky-100 text-sky-500 flex items-center justify-center">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="bg-white p-4 rounded-2xl border border-slate-100 flex items-center justify-between shadow-sm opacity-70">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center font-bold text-slate-400 text-lg">ìµœ</div>
                        <div>
                            <div class="font-bold text-slate-600">ìµœë¯¿ìŒ</div>
                            <div class="text-xs text-sky-500 mt-1 font-bold">ìŠ¹ì¸ì™„ë£Œ (09:15)</div>
                        </div>
                    </div>
                    <div class="w-8 h-8 rounded-full bg-sky-100 text-sky-500 flex items-center justify-center">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                <div class="text-center text-xs text-slate-400 py-4">
                    ì´ 18ëª… ì¶œì„ ì™„ë£Œ
                </div>
            </div>
        </section>

        <section id="tab-quest" class="section-content hidden-section">
            <h2 class="text-xl font-bold mb-4 px-1 text-slate-800">í€˜ìŠ¤íŠ¸ ìŠ¹ì¸</h2>
            <div class="flex gap-2 mb-6 overflow-x-auto no-scrollbar">
                <button onclick="filterQuest('all')" id="btn-all" class="quest-tab active px-4 py-2 rounded-full border border-slate-200 text-sm font-bold text-slate-500 bg-white whitespace-nowrap transition">ì „ì²´</button>
                <button onclick="filterQuest('daily')" id="btn-daily" class="quest-tab px-4 py-2 rounded-full border border-slate-200 text-sm font-bold text-slate-500 bg-white whitespace-nowrap transition">ì¼ì¼ í€˜ìŠ¤íŠ¸</button>
                <button onclick="filterQuest('sunday')" id="btn-sunday" class="quest-tab px-4 py-2 rounded-full border border-slate-200 text-sm font-bold text-slate-500 bg-white whitespace-nowrap transition">ì£¼ì¼ í€˜ìŠ¤íŠ¸</button>
                <button onclick="filterQuest('special')" id="btn-special" class="quest-tab px-4 py-2 rounded-full border border-slate-200 text-sm font-bold text-slate-500 bg-white whitespace-nowrap transition">íŠ¹ë³„ í€˜ìŠ¤íŠ¸</button>
            </div>
            
            <div id="quest-list" class="space-y-3">
                <div class="quest-item bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between" data-type="daily">
                    <div class="flex-1 min-w-0 pr-4">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="bg-sky-100 text-sky-600 text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap">ì¼ì¼</span>
                            <span class="text-[10px] text-slate-400 font-mono pt-0.5">2024.01.26</span>
                            <h3 class="font-bold text-slate-800 text-sm truncate ml-1">ì„±ê²½ 1ì¥ ì½ê¸°</h3>
                        </div>
                        <div class="flex items-center gap-2 text-xs text-slate-500">
                            <i class="fas fa-user"></i> ê¹€ìš©ì‚¬
                        </div>
                    </div>
                    <div class="flex gap-2 shrink-0">
                        <button onclick="handleAction(this, 'reject')" class="btn-action px-3 py-2 rounded-lg bg-slate-100 text-slate-400 text-xs font-bold hover:bg-red-50 hover:text-red-500">ë°˜ë ¤</button>
                        <button onclick="handleAction(this, 'approve')" class="btn-action px-3 py-2 rounded-lg bg-sky-500 text-white text-xs font-bold shadow-md shadow-sky-200 hover:bg-sky-600">ìŠ¹ì¸</button>
                    </div>
                </div>

                <div class="quest-item bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between" data-type="sunday">
                    <div class="flex-1 min-w-0 pr-4">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="bg-purple-100 text-purple-600 text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap">ì£¼ì¼</span>
                            <span class="text-[10px] text-slate-400 font-bold pt-0.5">1ì›” 4ì£¼</span>
                            <h3 class="font-bold text-slate-800 text-sm truncate ml-1">ìš”ì ˆ ì•”ì†¡</h3>
                        </div>
                        <div class="flex items-center gap-2 text-xs text-slate-500">
                            <i class="fas fa-user"></i> ë°•ì„±ì‹¤
                        </div>
                    </div>
                    <div class="flex gap-2 shrink-0">
                        <button onclick="handleAction(this, 'reject')" class="btn-action px-3 py-2 rounded-lg bg-slate-100 text-slate-400 text-xs font-bold hover:bg-red-50 hover:text-red-500">ë°˜ë ¤</button>
                        <button onclick="handleAction(this, 'approve')" class="btn-action px-3 py-2 rounded-lg bg-sky-500 text-white text-xs font-bold shadow-md shadow-sky-200 hover:bg-sky-600">ìŠ¹ì¸</button>
                    </div>
                </div>

                <div class="quest-item bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center justify-between" data-type="special">
                    <div class="flex-1 min-w-0 pr-4">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="bg-amber-100 text-amber-600 text-[10px] px-1.5 py-0.5 rounded font-bold whitespace-nowrap">íŠ¹ë³„</span>
                            <span class="text-[10px] text-slate-400 font-mono pt-0.5">2024.01.25</span>
                            <h3 class="font-bold text-slate-800 text-sm truncate ml-1">ì¹œêµ¬ ì „ë„í•˜ê¸°</h3>
                        </div>
                        <div class="flex items-center gap-2 text-xs text-slate-500">
                            <i class="fas fa-user"></i> ì´ë§ˆë²•
                        </div>
                    </div>
                    <div class="flex gap-2 shrink-0">
                        <button onclick="handleAction(this, 'reject')" class="btn-action px-3 py-2 rounded-lg bg-slate-100 text-slate-400 text-xs font-bold hover:bg-red-50 hover:text-red-500">ë°˜ë ¤</button>
                        <button onclick="handleAction(this, 'approve')" class="btn-action px-3 py-2 rounded-lg bg-sky-500 text-white text-xs font-bold shadow-md shadow-sky-200 hover:bg-sky-600">ìŠ¹ì¸</button>
                    </div>
                </div>
            </div>

            <div id="quest-empty" class="hidden flex flex-col items-center justify-center py-12 animate-fade-in">
                <div class="w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-inbox text-slate-300 text-2xl"></i>
                </div>
                <p class="text-slate-500 font-bold text-sm">ìš”ì²­ëœ ìŠ¹ì¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                <p class="text-slate-400 text-xs mt-1">ìƒˆë¡œìš´ í€˜ìŠ¤íŠ¸ ì¸ì¦ì„ ê¸°ë‹¤ë ¤ë³´ì„¸ìš”.</p>
            </div>
        </section>

        <section id="tab-guild" class="section-content hidden-section">
            <div class="sticky top-0 -mx-5 px-5 bg-[#F0F4F8] pb-4 z-10">
                <h2 class="text-xl font-bold mb-4 px-1 text-slate-800">ê¸¸ë“œì› ëª…ë‹¨</h2>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden border border-slate-100 shadow-sm">
                <div class="bg-slate-50 border-b border-slate-100 p-3 grid grid-cols-12 gap-2 text-xs font-bold text-slate-500">
                    <div class="col-span-5 pl-2">ì´ë¦„ / ì§ì—…</div>
                    <div class="col-span-2 text-center">LV</div>
                    <div class="col-span-3 text-right">EXP</div>
                    <div class="col-span-2 text-right pr-1">ë‹¬ë€íŠ¸</div>
                </div>
                <div class="divide-y divide-slate-50">
                    <div class="p-3 grid grid-cols-12 gap-2 items-center hover:bg-slate-50 transition cursor-pointer">
                        <div class="col-span-5 flex items-center gap-3">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-8 h-8 rounded-full bg-slate-100">
                            <div><div class="font-bold text-slate-800 text-sm">ê¹€ìš©ì‚¬</div><div class="text-[10px] text-slate-400">ì „ì‚¬</div></div>
                        </div>
                        <div class="col-span-2 text-center"><span class="bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded font-bold">10</span></div>
                        <div class="col-span-3 text-right text-xs text-slate-600 font-medium">12,500</div>
                        <div class="col-span-2 text-right text-xs font-bold text-amber-500 pr-1">1.2k</div>
                    </div>
                    <div class="p-3 grid grid-cols-12 gap-2 items-center hover:bg-slate-50 transition cursor-pointer">
                        <div class="col-span-5 flex items-center gap-3">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Annie" class="w-8 h-8 rounded-full bg-slate-100">
                            <div><div class="font-bold text-slate-800 text-sm">ì´ë§ˆë²•</div><div class="text-[10px] text-slate-400">ë§ˆë²•ì‚¬</div></div>
                        </div>
                        <div class="col-span-2 text-center"><span class="bg-slate-100 text-slate-600 text-[10px] px-1.5 py-0.5 rounded font-bold">08</span></div>
                        <div class="col-span-3 text-right text-xs text-slate-600 font-medium">8,400</div>
                        <div class="col-span-2 text-right text-xs font-bold text-amber-500 pr-1">800</div>
                    </div>
                    <div class="p-3 grid grid-cols-12 gap-2 items-center hover:bg-slate-50 transition cursor-pointer">
                        <div class="col-span-5 flex items-center gap-3">
                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Bob" class="w-8 h-8 rounded-full bg-slate-100">
                            <div><div class="font-bold text-slate-800 text-sm">ë°•ì„±ì‹¤</div><div class="text-[10px] text-slate-400">ê¶ìˆ˜</div></div>
                        </div>
                        <div class="col-span-2 text-center"><span class="bg-sky-100 text-sky-600 text-[10px] px-1.5 py-0.5 rounded font-bold">12</span></div>
                        <div class="col-span-3 text-right text-xs text-slate-600 font-medium">15,200</div>
                        <div class="col-span-2 text-right text-xs font-bold text-amber-500 pr-1">2.1k</div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <nav class="fixed bottom-6 left-6 right-6 z-30">
        <div class="bg-white/70 backdrop-blur-xl border border-white/60 shadow-xl shadow-slate-200/50 rounded-3xl h-16 px-4 flex justify-around items-center">
            <button onclick="switchTab('home')" class="nav-item active flex-1 flex flex-col items-center justify-center h-full text-slate-400 hover:text-sky-500 transition duration-300">
                <i class="fas fa-home text-xl mb-1 transition-transform"></i>
                <span class="text-[10px] font-medium">í™ˆ</span>
            </button>
            <button onclick="switchTab('attendance')" class="nav-item flex-1 flex flex-col items-center justify-center h-full text-slate-400 hover:text-sky-500 transition duration-300 relative">
                <i class="fas fa-clipboard-user text-xl mb-1 transition-transform"></i>
                <span class="text-[10px] font-medium">ì¶œì„</span>
                <span class="absolute top-3 right-4 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
            </button>
            <button onclick="switchTab('quest')" class="nav-item flex-1 flex flex-col items-center justify-center h-full text-slate-400 hover:text-sky-500 transition duration-300 relative">
                <i class="fas fa-scroll text-xl mb-1 transition-transform"></i>
                <span class="text-[10px] font-medium">í€˜ìŠ¤íŠ¸</span>
                <span class="absolute top-2 right-4 bg-red-500 text-white text-[9px] px-1.5 rounded-full leading-none py-0.5 border border-white shadow-sm">2</span>
            </button>
            <button onclick="switchTab('guild')" class="nav-item flex-1 flex flex-col items-center justify-center h-full text-slate-400 hover:text-sky-500 transition duration-300">
                <i class="fas fa-users-cog text-xl mb-1 transition-transform"></i>
                <span class="text-[10px] font-medium">ê¸¸ë“œì›</span>
            </button>
        </div>
    </nav>

    <div id="settings-modal" class="fixed inset-0 z-50 bg-[#F0F4F8] hidden flex flex-col animate-fade-in">
        <header class="px-5 py-4 bg-white/90 backdrop-blur-sm border-b border-slate-200 flex justify-between items-center sticky top-0">
            <h2 class="text-lg font-bold text-slate-800">ì„¤ì •</h2>
            <button onclick="toggleSettings(false)" class="w-8 h-8 rounded-full bg-slate-100 text-slate-500 hover:bg-slate-200 transition flex items-center justify-center"><i class="fas fa-times"></i></button>
        </header>
        <div class="flex-1 overflow-y-auto p-5 space-y-6">
            <div class="bg-white rounded-2xl p-5 flex items-center gap-4 border border-slate-100 shadow-sm">
                <div class="w-16 h-16 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 text-2xl"><i class="fas fa-user-tie"></i></div>
                <div><div class="font-bold text-slate-800 text-lg">ê¹€ì„ ìƒë‹˜</div><div class="text-sm text-slate-500">ë¯¿ìŒë°˜ (ê¸¸ë“œë§ˆìŠ¤í„°)</div></div>
            </div>
            
            <div class="bg-white rounded-2xl p-5 border border-slate-100 shadow-sm">
                <h3 class="font-bold text-slate-700 mb-4 text-sm flex items-center"><i class="fas fa-key text-sky-500 mr-2"></i> ì„ ìƒë‹˜ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</h3>
                <form class="space-y-3" onsubmit="event.preventDefault(); alert('ë¹„ë°€ë²ˆí˜¸ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!'); toggleSettings(false);">
                    <input type="password" placeholder="í˜„ì¬ ë¹„ë°€ë²ˆí˜¸" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none transition">
                    <input type="password" id="new-pw" oninput="checkPasswordStrength(); checkPasswordMatch();" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none transition">
                    <div class="h-1.5 w-full bg-slate-100 rounded-full overflow-hidden">
                        <div id="pw-strength-bar" class="h-full w-0 bg-red-400 transition-all duration-300"></div>
                    </div>
                    <p id="pw-strength-text" class="text-xs text-slate-400 text-right">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”</p>

                    <input type="password" id="confirm-pw" oninput="checkPasswordMatch()" placeholder="ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸" class="w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none transition">
                    <p id="pw-match-text" class="text-xs text-slate-400 text-right h-4"></p>

                    <button class="w-full py-3 bg-sky-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-sky-200 hover:bg-sky-600 transition transform active:scale-95">ë³€ê²½ ì €ì¥</button>
                </form>
            </div>
            <div class="text-center pt-4 pb-8">
                <button onclick="logout()" class="text-red-500 text-sm font-bold hover:bg-red-50 px-4 py-2 rounded-lg transition"><i class="fas fa-sign-out-alt mr-1"></i> ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </div>

    <script>
        function switchTab(tabName) {
            document.querySelectorAll('.section-content').forEach(el => el.classList.add('hidden-section'));
            document.getElementById('tab-' + tabName).classList.remove('hidden-section');

            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active');
                el.classList.add('text-slate-400');
                el.classList.remove('text-sky-500');
            });
            
            const activeBtn = document.querySelector(`button[onclick="switchTab('${tabName}')"]`);
            if(activeBtn) {
                activeBtn.classList.add('active');
                activeBtn.classList.remove('text-slate-400');
                activeBtn.classList.add('text-sky-500');
            }
            document.getElementById('main-content').scrollTop = 0;
        }

        // ì¶œì„ë¶€ íƒ­ ì „í™˜
        function switchAttList(type) {
            const btnPending = document.getElementById('btn-att-pending');
            const btnComplete = document.getElementById('btn-att-complete');
            const listPending = document.getElementById('list-att-pending');
            const listComplete = document.getElementById('list-att-complete');

            if (type === 'pending') {
                btnPending.classList.add('bg-white', 'text-slate-800', 'shadow-sm');
                btnPending.classList.remove('text-slate-400', 'hover:text-slate-600');
                btnComplete.classList.remove('bg-white', 'text-slate-800', 'shadow-sm');
                btnComplete.classList.add('text-slate-400', 'hover:text-slate-600');
                
                listPending.classList.remove('hidden');
                listComplete.classList.add('hidden');
            } else {
                btnComplete.classList.add('bg-white', 'text-slate-800', 'shadow-sm');
                btnComplete.classList.remove('text-slate-400', 'hover:text-slate-600');
                btnPending.classList.remove('bg-white', 'text-slate-800', 'shadow-sm');
                btnPending.classList.add('text-slate-400', 'hover:text-slate-600');
                
                listComplete.classList.remove('hidden');
                listPending.classList.add('hidden');
            }
        }

        function filterQuest(type) {
            document.querySelectorAll('.quest-tab').forEach(btn => btn.classList.remove('active'));
            if(type === 'all') document.getElementById('btn-all').classList.add('active');
            if(type === 'daily') document.getElementById('btn-daily').classList.add('active');
            if(type === 'sunday') document.getElementById('btn-sunday').classList.add('active');
            if(type === 'special') document.getElementById('btn-special').classList.add('active');

            const listArea = document.getElementById('quest-list');
            const items = document.querySelectorAll('.quest-item');
            const emptyArea = document.getElementById('quest-empty');
            
            let visibleCount = 0;

            items.forEach(item => {
                const itemType = item.getAttribute('data-type');
                if (type === 'all' || itemType === type) {
                    item.classList.remove('hidden');
                    visibleCount++;
                } else {
                    item.classList.add('hidden');
                }
            });

            if (visibleCount > 0) {
                listArea.classList.remove('hidden');
                emptyArea.classList.add('hidden');
            } else {
                listArea.classList.add('hidden');
                emptyArea.classList.remove('hidden');
            }
        }

        function sendMessage() {
            const input = document.getElementById('chat-input');
            const text = input.value.trim();
            if (!text) return;

            const chatList = document.getElementById('chat-list');
            
            // [ìˆ˜ì •ë¨] ì„ ìƒë‹˜ ë©”ì‹œì§€ì—ë„ íœ´ì§€í†µ ì•„ì´ì½˜ ì¶”ê°€ (Left side)
            const msgDiv = document.createElement('div');
            msgDiv.className = 'flex gap-3 items-start flex-row-reverse animate-slide-up group chat-message';
            msgDiv.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-500 shrink-0">
                    <i class="fas fa-user-tie text-xs"></i>
                </div>
                <div class="flex-1 text-right">
                    <div class="flex justify-end items-center mb-1 gap-2">
                        <span class="text-[10px] text-slate-400">ë°©ê¸ˆ ì „</span>
                        <span class="font-bold text-slate-800 text-sm">ê¹€ì„ ìƒë‹˜</span>
                    </div>
                    <div class="flex items-end gap-2 justify-end">
                        <button onclick="deleteMessage(this)" class="text-slate-300 hover:text-red-500 transition opacity-0 group-hover:opacity-100 p-1.5" title="ì‚­ì œ">
                            <i class="fas fa-trash-alt text-sm"></i>
                        </button>
                        <div class="bg-indigo-500 text-white p-2.5 rounded-l-xl rounded-br-xl text-sm inline-block text-left shadow-md shadow-indigo-200">
                            ${text}
                        </div>
                    </div>
                </div>
            `;
            
            chatList.appendChild(msgDiv);
            input.value = '';
            chatList.scrollTop = chatList.scrollHeight; 
        }

        function deleteMessage(btn) {
            if(confirm('ì´ ë©”ì‹œì§€ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                const row = btn.closest('.chat-message');
                if(row) {
                    row.remove();
                }
            }
        }

        function handleAction(btn, type) {
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('button');
            
            buttons.forEach(b => {
                if (b === btn) {
                    b.classList.remove('disabled');
                    b.style.opacity = '1';
                    b.style.transform = 'scale(1.05)';
                } else {
                    b.classList.add('disabled');
                    b.style.opacity = '0.3';
                    b.style.transform = 'scale(1)';
                }
            });
        }

        function selectMonth(btn) {
            const container = document.getElementById('month-container');
            container.querySelectorAll('.month-chip').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');
        }

        function selectWeek(btn) {
            const container = document.getElementById('week-container');
            container.querySelectorAll('.week-chip').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');
        }

        function checkPasswordStrength() {
            const pw = document.getElementById('new-pw').value;
            const bar = document.getElementById('pw-strength-bar');
            const text = document.getElementById('pw-strength-text');
            
            let score = 0;
            if (pw.length > 0) {
                if (pw.length >= 8) score++;
                if (/[0-9]/.test(pw)) score++;
                if (/[^A-Za-z0-9]/.test(pw)) score++;
                if (/[A-Z]/.test(pw)) score++;
            }

            if (pw.length === 0) {
                bar.style.width = '0%';
                bar.className = 'h-full bg-slate-200 transition-all duration-300';
                text.innerText = 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”';
                text.className = 'text-xs text-slate-400 text-right';
            } else if (pw.length < 8) {
                bar.style.width = '25%';
                bar.className = 'h-full bg-red-400 transition-all duration-300';
                text.innerText = 'ë„ˆë¬´ ì§§ìŒ (8ì ì´ìƒ)';
                text.className = 'text-xs text-red-500 text-right font-bold';
            } else {
                if (score <= 2) {
                    bar.style.width = '50%';
                    bar.className = 'h-full bg-orange-400 transition-all duration-300';
                    text.innerText = 'ì•½í•¨';
                    text.className = 'text-xs text-orange-500 text-right font-bold';
                } else if (score === 3) {
                    bar.style.width = '75%';
                    bar.className = 'h-full bg-blue-400 transition-all duration-300';
                    text.innerText = 'ë³´í†µ';
                    text.className = 'text-xs text-blue-500 text-right font-bold';
                } else {
                    bar.style.width = '100%';
                    bar.className = 'h-full bg-green-500 transition-all duration-300';
                    text.innerText = 'ì•ˆì „í•¨';
                    text.className = 'text-xs text-green-500 text-right font-bold';
                }
            }
        }

        function checkPasswordMatch() {
            const pw1 = document.getElementById('new-pw').value;
            const pw2 = document.getElementById('confirm-pw').value;
            const text = document.getElementById('pw-match-text');

            if (pw2.length === 0) {
                text.innerText = '';
                return;
            }

            if (pw1 === pw2) {
                text.innerText = 'ì¼ì¹˜í•¨';
                text.className = 'text-xs text-green-500 text-right font-bold';
            } else {
                text.innerText = 'ì¼ì¹˜í•˜ì§€ ì•ŠìŒ';
                text.className = 'text-xs text-red-500 text-right font-bold';
            }
        }

        function toggleSettings(show) {
            const modal = document.getElementById('settings-modal');
            if (show) modal.classList.remove('hidden');
            else modal.classList.add('hidden');
        }

        function logout() {
            if(confirm('ì„ ìƒë‹˜ ëª¨ë“œì—ì„œ ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) location.href = 'index.html'; 
        }
    </script>
</body>
</html>